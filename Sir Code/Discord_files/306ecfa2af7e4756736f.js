(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{1641:function(e,t,n){"use strict";t.__esModule=!0;var i,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),s=C(n(15)),l=C(n(5144)),u=C(n(423)),f=n(443),c=C(n(5143)),d=C(n(5610)),p=n(453),h=C(n(5607)),v=C(n(195)),_=C(n(5141)),m=C(n(5603)),E=C(n(5600)),y=C(n(5597)),g=C(n(5596)),I=C(n(5594)),T=C(n(5593)),S=n(4961),N=C(n(2334)),O=C(n(1958)),A=C(n(83)),b=C(n(5581)),M=n(5);function C(e){return e&&e.__esModule?e:{default:e}}s.default.initialize();var R="iPad"===u.default.product,P=!R&&("Android"===u.default.os.family||"iOS"===u.default.os.family),w=(0,I.default)(c.default,P),L=(0,I.default)(d.default,P),D=(0,I.default)(h.default,P),U=(0,I.default)(_.default,P),V=(0,I.default)(m.default,P),x=(0,I.default)(E.default,P),k=(0,I.default)(y.default,P),B=(0,I.default)(g.default,P),F=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n)),o=(0,f.parse)(location.search).redirect_to;null!=o&&(0,p.isSafeRedirect)(o)&&!o.startsWith(M.Routes.ME)||(o=null);var r=null;return null==n.invite&&(r=(0,S.getArtForPath)(o)),i.state={splash:r,redirectTo:o},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.invite;if(null==t.splash&&null!=n&&n.state===M.InviteStates.RESOLVED){var i=n.guild;if(null!=i&&"string"==typeof i.splash)return{splash:v.default.getGuildSplashURL({id:i.id,splash:i.splash})}}return{}},t.prototype.componentDidMount=function(){var e=this.props.inviteCode;null!=e&&A.default.track(M.AnalyticEvents.INVITE_OPENED,{invite_code:e,load_time:b.default.getTimeSinceNavigationStart()},!0),this.resolveInvite(this.props)},t.prototype.resolveInvite=function(e){var t=e.inviteCode;null!=t&&(O.default.resolveInvite(t,M.PageAnalyticsLocations.INVITE),O.default.openNativeAppModal(t))},t.prototype.render=function(){var e=this.state,t=e.splash,n=e.redirectTo;return r(T.default,{splash:t,redirectTo:n,isMobile:P},void 0,r(l.default.Route,{path:M.Routes.LOGIN,render:function(e){return a.createElement(w,o({},e,{redirectTo:n}))}}),r(l.default.Route,{path:M.Routes.REGISTER,render:function(e){return a.createElement(U,o({},e,{redirectTo:n}))}}),r(l.default.Route,{path:M.Routes.INVITE_LOGIN(":invitecode"),render:function(e){return P||R?a.createElement(D,e):a.createElement(L,o({login:!0},e))}}),r(l.default.Route,{path:M.Routes.INVITE(":invitecode"),render:function(e){return P||R?a.createElement(D,e):a.createElement(L,e)}}),r(l.default.Route,{path:M.Routes.VERIFY,render:function(e){return a.createElement(x,e)}}),r(l.default.Route,{path:M.Routes.DISABLE_EMAIL_NOTIFICATIONS,render:function(e){return a.createElement(B,e)}}),r(l.default.Route,{path:M.Routes.AUTHORIZE_IP,render:function(e){return a.createElement(V,e)}}),r(l.default.Route,{path:M.Routes.RESET,render:function(e){return a.createElement(k,e)}}))},t}(a.PureComponent);t.default=s.default.connectStores([N.default],function(e){var t=function(e){return null!=e&&null!=e.params&&null!=e.params.invitecode?e.params.invitecode:null}(e.match);return{inviteCode:t,invite:null!=t?N.default.getInvite(t):null}})(F),e.exports=t.default},1899:function(e,t,n){"use strict";t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=c(n(15)),r=c(n(14)),a=n(5),s=c(n(1917)),l=c(n(416)),u=c(n(417)),f=c(n(75));function c(e){return e&&e.__esModule?e:{default:e}}var d={},p={},h={};function v(e){return f.default.keyBy(e,"id")}function _(e){return null==e?{}:f.default.reduce(e,function(e,t){return e[t.id]=t.nick,e},{})}function m(e){return d[e]||h[e]}function E(e){e.isManaged()?h[e.id]=e:d[e.id]=e}function y(e){var t,n;e.isManaged()?h=i({},h,((t={})[e.id]=e,t)):d=i({},d,((n={})[e.id]=e,n))}function g(e){var t=m(e.channel.id);null==t&&(t=new s.default({id:e.channel.id})),I(t=t.merge({name:e.channel.name||"",topic:e.channel.topic||"",position:e.channel.position||0,recipients:null!=e.channel.recipients?e.channel.recipients.map(function(e){return e.id}):t.recipients,type:null!=e.channel.type?e.channel.type:a.ChannelTypes.GUILD_TEXT,guild_id:e.channel.guild_id,application_id:e.channel.application_id,parent_id:e.channel.parent_id,bitrate:e.channel.bitrate||t.bitrate,permissionOverwrites:v(e.channel.permission_overwrites),userLimit:e.channel.user_limit,ownerId:e.channel.owner_id,icon:e.channel.icon,nicks:_(e.channel.nicks),nsfw:e.channel.nsfw,memberListId:e.channel.member_list_id})),y(t)}function I(e){e.type===a.ChannelTypes.DM&&(p[e.getRecipientId()]=e.id)}var T=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,u.default)},t.prototype.getChannel=function(e){return null==e?null:m(e)},t.prototype.getChannels=function(){return d},t.prototype.getManagedChannels=function(){return h},t.prototype.getDMFromUserId=function(e){return p[e]},t.prototype.getDMUserIds=function(){return Object.keys(p)},t}(o.default.Store);t.default=new T(r.default,{CONNECTION_OPEN:function(e){p={},h={},d={},(0,f.default)(e.channels).forEach(function(e){var t=new s.default({id:e.id,name:e.name||"",topic:e.topic||"",position:e.position||0,recipients:null!=e.recipients?e.recipients.map(function(e){return e.id}):[],type:null!=e.type?e.type:a.ChannelTypes.GUILD_TEXT,guild_id:e.guild_id,application_id:e.application_id,parent_id:e.parent_id,bitrate:e.bitrate,permissionOverwrites:v(e.permission_overwrites),userLimit:e.user_limit,ownerId:e.owner_id,icon:e.icon,nicks:_(e.nicks),nsfw:e.nsfw,memberListId:e.member_list_id});I(t),E(t)})},GUILD_CREATE:function(e){var t=e.guild;d=i({},d),h=i({},h),t.channels.forEach(function(e){E(new s.default({id:e.id,name:e.name||"",topic:e.topic||"",position:e.position||0,recipients:null!=e.recipients?e.recipients.map(function(e){return e.id}):[],type:e.type,guild_id:e.guild_id,application_id:e.application_id,parent_id:e.parent_id,bitrate:e.bitrate,permissionOverwrites:v(e.permission_overwrites),userLimit:e.user_limit,ownerId:e.owner_id,icon:e.icon,nicks:_(e.nicks),nsfw:e.nsfw,memberListId:e.member_list_id}))})},GUILD_DELETE:function(e){var t=e.guild;d=(0,f.default)(d).filter(function(e){return e.getGuildId()!==t.id}).keyBy("id").value(),h=(0,f.default)(h).filter(function(e){return e.getGuildId()!==t.id}).keyBy("id").value()},CHANNEL_CREATE:g,CHANNEL_UPDATE:g,CHANNEL_DELETE:function(e){var t,n=e.channel,o=(d=i({},d))[n.id];if(t=n.id,delete d[t],delete h[t],!o)return!1;!function(e){e.type===a.ChannelTypes.DM&&delete p[e.getRecipientId()]}(o)},CHANNEL_RECIPIENT_ADD:function(e){var t=m(e.channelId);return null!=t&&l.default.getCurrentUser().id!==e.user.id&&(t=t.set("recipients",f.default.uniq([].concat(t.recipients,[e.user.id]))),e.nick&&(t=t.update("nicks",function(t){return t[e.user.id]=e.nick,t})),void y(t))},CHANNEL_RECIPIENT_REMOVE:function(e){var t=m(e.channelId);if(null==t)return!1;y(t=t.set("recipients",f.default.without(t.recipients,e.user.id)))}}),e.exports=t.default},1909:function(e,t,n){"use strict";t.__esModule=!0;var i=l(n(15)),o=l(n(75)),r=l(n(14)),a=(n(5),l(n(417))),s=n(432);function l(e){return e&&e.__esModule?e:{default:e}}var u={};function f(e,t,n,i){var o=null,r=null;if(i&&i.length>0){var a=null,l=null;i.forEach(function(e){var t=n[e];t&&(t.color>0&&(null==a||t.position>a.position)&&(a=t),t.hoist&&(null==l||t.position>l.position)&&(l=t))}),a&&(null!=a.colorString?o=a.colorString:a.color&&(a.colorString=(0,s.int2hex)(a.color))),l&&(r=l.id)}return{userId:e,nick:t,roles:i,colorString:o,hoistRoleId:r}}function c(e){var t=e.guildId,n=e.user,i=e.nick,o=e.roles,r=u[t];if(null==r)return!1;var s=a.default.getGuild(t);if(null==s)return console.warn("Guild "+t+" not found during GUILD_MEMBER_UPDATE."),!1;r[n.id]=f(n.id,i,s.roles,o)}function d(e){var t=u[e.guildId];if(null==t)return!1;var n=a.default.getGuild(e.guildId);if(null==n)return console.warn("Guild "+e.guildId+" not found during "+e.type+"."),!1;var i=Object.keys(t),o=Array.isArray(i),r=0;for(i=o?i:i[Symbol.iterator]();;){var s;if(o){if(r>=i.length)break;s=i[r++]}else{if((r=i.next()).done)break;s=r.value}var l=s,c=t[l];(c.roles&&c.roles.length>0||c.colorString||c.hoistRoleId)&&(t[l]=f(l,c.nick,n.roles,c.roles))}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(a.default)},t.prototype.memberOf=function(e){return(0,o.default)(u).toPairs().filter(function(t){t[0];return null!=t[1][e]}).map(function(e){return e[0]}).value()},t.prototype.getNicknames=function(e){return(0,o.default)(u).toPairs().map(function(t){return t[1][e]}).filter(function(e){return null!=e}).map(function(e){return e.nick}).filter(function(e){return null!=e}).uniq().value()},t.prototype.isMember=function(e,t){if(!e||!t)return!1;var n=u[e];return null!=n&&null!=n[t]},t.prototype.getMemberIds=function(e){if(null==e)return[];var t=u[e];return null==t?[]:Object.keys(t)},t.prototype.getMembers=function(e){if(null==e)return[];var t=u[e];return null==t?[]:Object.values(t)},t.prototype.getKeyedMembers=function(e){return u[e]||{}},t.prototype.getMember=function(e,t){var n=u[e];return null!=n?n[t]:null},t.prototype.getNick=function(e,t){if(!e||!t)return null;var n=this.getMember(e,t);return null!=n?n.nick:null},t}(i.default.Store);t.default=new p(r.default,{CONNECTION_OPEN:function(e){u={},e.guilds.forEach(function(e){var t=a.default.getGuild(e.id);if(null!=t){var n={},i=t.roles;e.members.forEach(function(e){var t=e.user,o=e.nick,r=e.roles;n[t.id]=f(t.id,o,i,r)}),u[e.id]=n}})},GUILD_CREATE:function(e){var t=a.default.getGuild(e.guild.id);if(null==t)return!1;var n={};e.guild.members.forEach(function(e){var i=e.user,o=e.nick,r=e.roles;n[i.id]=f(i.id,o,t.roles,r)}),u[t.id]=n},GUILD_DELETE:function(e){var t=e.guild;delete u[t.id]},GUILD_MEMBER_ADD:c,GUILD_MEMBER_UPDATE:c,GUILD_MEMBERS_CHUNK:function(e){var t=u[e.guildId];if(null==t)return!1;var n=a.default.getGuild(e.guildId);if(null==n)return console.warn("Guild "+e.guildId+" not found during GUILD_MEMBERS_CHUNK."),!1;e.members.forEach(function(e){t[e.user.id]=f(e.user.id,e.nick,n.roles,e.roles)})},GUILD_MEMBER_REMOVE:function(e){var t=e.guildId,n=e.user,i=u[t];if(null==i||null==i[n.id])return!1;delete i[n.id]},GUILD_ROLE_UPDATE:d,GUILD_ROLE_DELETE:d}),e.exports=t.default},1913:function(e,t,n){"use strict";t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=p(n(1917)),r=p(n(417)),a=p(n(49)),s=p(n(416)),l=p(n(1909)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2329)),f=n(5),c=p(n(74)),d=p(n(75));function p(e){return e&&e.__esModule?e:{default:e}}var h=0,v=Object.keys(f.Permissions).reduce(function(e,t){return e|f.Permissions[t]},h),_=[f.Permissions.CREATE_INSTANT_INVITE,f.Permissions.CHANGE_NICKNAME,f.Permissions.VIEW_CHANNEL,f.Permissions.SEND_MESSAGES,f.Permissions.SEND_TSS_MESSAGES,f.Permissions.EMBED_LINKS,f.Permissions.ATTACH_FILES,f.Permissions.READ_MESSAGE_HISTORY,f.Permissions.MENTION_EVERYONE,f.Permissions.USE_EXTERNAL_EMOJIS,f.Permissions.ADD_REACTIONS,f.Permissions.CONNECT,f.Permissions.SPEAK,f.Permissions.USE_VAD].reduce(function(e,t){return e|t},h);function m(e,t,n){return(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])&&t.mfaLevel===f.MFALevels.ELEVATED&&n===a.default.getId()&&(s.default.getCurrentUser().mfaEnabled||(e&=~f.ElevatedPermissions)),e}function E(e,t,n,a){var s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u="string"==typeof e?e:e.id,c=void 0;if(t instanceof o.default){n=null!=n?i({},t.permissionOverwrites,n):t.permissionOverwrites;var d=t.getGuildId();c=null!=d?r.default.getGuild(d):null}else n=n||{},c=t;if(null==c)return h;if(c.isOwner(u))return m(v,c,u,s);a=null!=a?i({},c.roles,a):c.roles;var p=l.default.getMember(c.id,u),E=a[c.id],y=null!=E?E.permissions:_;if(null!=p)for(var g=0;g<p.roles.length;g++){var I=a[p.roles[g]];void 0!==I&&(y|=I.permissions)}if((y&f.Permissions.ADMINISTRATOR)===f.Permissions.ADMINISTRATOR)y=v;else{var T=n[c.id];if(null!=T&&(y^=y&T.deny,y|=T.allow),null!=p){for(var S=h,N=h,O=0;O<p.roles.length;O++){var A=n[p.roles[O]];null!=A&&(S|=A.allow,N|=A.deny)}y^=y&N,y|=S;var b=n[u];null!=b&&(y^=y&b.deny,y|=b.allow)}}return m(y,c,u,s)}function y(e){return{id:e,type:"role",allow:h,deny:h}}function g(e,t,n,i,o){return(E(t,n,i,o)&e)===e}t.default={PASSTHROUGH:"PASSTHROUGH",ALLOW:"ALLOW",DENY:"DENY",NONE:h,DEFAULT:_,ALL:v,computePermissions:E,isRoleHigher:function(e,t,n,i){if(e.isOwner(t))return!0;if(null==n)return!1;var o=(0,d.default)(e.roles).sortBy(function(e){return e.position}).map(function(e){return e.id}).value();return o.indexOf(n.id)>(null!=i?o.indexOf(i.id):-1)},getHighestRole:function(e,t){var n=l.default.getMember(e.id,t);return null==n?null:(0,d.default)(e.roles).filter(function(e){return-1!==n.roles.indexOf(e.id)}).sortBy(function(e){return-e.position}).first()},can:g,getGuildPermissionProps:function(e,t){return{canManageGuild:g(f.Permissions.MANAGE_GUILD,t,e),canManageChannels:g(f.Permissions.MANAGE_CHANNELS,t,e),canManageRoles:g(f.Permissions.MANAGE_ROLES,t,e),canManageBans:g(f.Permissions.BAN_MEMBERS,t,e),canManageNicknames:g(f.Permissions.MANAGE_NICKNAMES,t,e),canManageEmoji:g(f.Permissions.MANAGE_EMOJIS,t,e),canViewAuditLog:g(f.Permissions.VIEW_AUDIT_LOG,t,e),canManageWebhooks:g(f.Permissions.MANAGE_WEBHOOKS,t,e),isOwnerWithRequiredMfaLevel:e.isOwnerWithRequiredMfaLevel(t),guild:e}},canEveryoneRole:function(e,t){var n=void 0,i={};if(t instanceof o.default){i=t.permissionOverwrites;var a=t.getGuildId();n=null!=a?r.default.getGuild(a):null}else n=t;if(null==n)return!1;var s=i[n.id];if(null!=s){if((s.deny&e)===e)return!1;if((s.allow&e)===e)return!0}return(n.roles[n.id].permissions&e)===e},canEveryone:function(e,t){var n=void 0,i={};if(t instanceof o.default){i=t.permissionOverwrites;var a=t.getGuildId();n=null!=a?r.default.getGuild(a):null}else n=t;return null!=n&&((n.roles[n.id].permissions&e)===e&&!d.default.some(i,function(t){return(t.deny&e)===e}))},canManageACategory:function(e,t,n){return!!g(f.Permissions.MANAGE_CHANNELS,e,t)||n.some(function(t){var n=t.channel;return"null"!==n.id&&g(f.Permissions.MANAGE_CHANNELS,e,n)})},areChannelsLocked:function(e,t){var n=e.guild_id;if(null==t||null==n||n!==t.guild_id)return!1;var o=i({},e.permissionOverwrites),r=i({},t.permissionOverwrites);return null==o[n]&&(o[n]=y(n)),null==r[n]&&(r[n]=y(n)),Object.keys(o).length===Object.keys(r).length&&!Object.keys(o).some(function(e){var t=o[e],n=r[e];return null==n||n.deny!==t.deny||n.allow!==t.allow})},makeEveryoneOverwrite:y,generateChannelGeneralPermissionSpec:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return u.generateChannelGeneralPermissionSpec(e,c.default.Messages)},generateChannelTextPermissionSpec:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return u.generateChannelTextPermissionSpec(e,c.default.Messages)},generateChannelVoicePermissionSpec:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return u.generateChannelVoicePermissionSpec(e,c.default.Messages)},generateGuildGeneralPermissionSpec:function(){return u.generateGuildGeneralPermissionSpec(c.default.Messages)},generateGuildTextPermissionSpec:function(){return u.generateGuildTextPermissionSpec(c.default.Messages)},generateGuildVoicePermissionSpec:function(){return u.generateGuildVoicePermissionSpec(c.default.Messages)},generatePermissionSpec:function(){return u.generatePermissionSpec(c.default.Messages)}},e.exports=t.default},1917:function(e,t,n){"use strict";t.__esModule=!0;var i=s(n(200)),o=s(n(195)),r=n(5),a=s(n(74));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){this.id=e.id,this.type=null!=e.type?e.type:r.ChannelTypes.GUILD_TEXT,this.name=e.name||"",this.topic=e.topic||"",this.position=e.position||0,this.guild_id=e.guild_id||null,this.recipients=e.recipients||[],this.permissionOverwrites=e.permissionOverwrites||{},this.bitrate=e.bitrate||r.BITRATE_DEFAULT,this.userLimit=e.userLimit||0,this.ownerId=e.ownerId||null,this.icon=e.icon||null,this.application_id=e.application_id||null,this.nicks=e.nicks||{},this.nsfw=e.nsfw||!1,this.parent_id=e.parent_id||null,this.memberListId=e.memberListId||null},t.prototype.isNSFW=function(){return this.nsfw},t.prototype.isManaged=function(){return null!=this.application_id},t.prototype.isPrivate=function(){return this.type===r.ChannelTypes.DM||this.type===r.ChannelTypes.GROUP_DM},t.prototype.isGroupDM=function(){return this.type===r.ChannelTypes.GROUP_DM},t.prototype.isDM=function(){return this.type===r.ChannelTypes.DM},t.prototype.isOwner=function(e){return this.ownerId===e},t.prototype.isRoleRequired=function(){var e=this.type,t=r.ChannelTypes.GUILD_VOICE,i=r.ChannelTypes.GUILD_TEXT;if(null==this.guild_id||e!==t&&e!==i)return!1;if(e===t&&!n(1913).canEveryoneRole(r.Permissions.CONNECT,this))return!0;var o=this.permissionOverwrites[this.guild_id];return null!=o&&(o.deny&r.Permissions.VIEW_CHANNEL)===r.Permissions.VIEW_CHANNEL},t.prototype.getRecipientId=function(){return this.recipients[0]},t.prototype.getGuildId=function(){return this.guild_id},t.prototype.getApplicationId=function(){return this.application_id},t.prototype.getIconURL=function(){switch(this.type){case r.ChannelTypes.DM:var e=this._getUsers()[0];return null!=e?e.getAvatarURL():null;case r.ChannelTypes.GROUP_DM:var t={id:this.id,icon:this.icon,applicationId:this.getApplicationId()};return o.default.getChannelIconURL(t)}},t.prototype.getIconSource=function(){switch(this.type){case r.ChannelTypes.DM:var e=this._getUsers()[0];return null!=e?e.getAvatarSource():null;case r.ChannelTypes.GROUP_DM:var t={id:this.id,icon:this.icon,applicationId:this.getApplicationId()};return o.default.getChannelIconSource(t)}},t.prototype.toString=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(this.type){case r.ChannelTypes.DM:var t=this._getUsers()[0],n=null!=t?t.toString():"";return e?"@"+n:n;case r.ChannelTypes.GROUP_DM:return this.name||this._getUsers().join(", ")||a.default.Messages.UNNAMED;case r.ChannelTypes.GUILD_TEXT:if(e)return"#"+this.name;default:return this.name}},t.prototype._getUsers=function(){var e=n(416);return this.recipients.map(e.getUser).filter(function(e){return null!=e})},t}(i.default);t.default=l,e.exports=t.default},1937:function(e,t,n){"use strict";t.__esModule=!0;var i,o=(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),a=v(n(192)),s=v(n(36)),l=v(n(1933)),u=v(n(421)),f=v(n(1918)),c=v(n(420)),d=n(193),p=n(5),h=v(n(1541));function v(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return i.submitModal=i.submitModal.bind(i),i.handleClose=i.handleClose.bind(i),i.handleSubmit=i.handleSubmit.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){d.ComponentDispatch.subscribe(p.ComponentActions.MODAL_SUBMIT,this.submitModal),a.default.findDOMNode(this).focus()},t.prototype.componentWillUnmount=function(){d.ComponentDispatch.unsubscribe(p.ComponentActions.MODAL_SUBMIT,this.submitModal)},t.prototype.handleSubmit=function(e){e.preventDefault(),this.submitModal()},t.prototype.submitModal=function(){c.default.pop(),null!=this.props.onConfirm&&this.props.onConfirm()},t.prototype.handleClose=function(){var e=this.props,t=e.onCancel,n=e.onClose;t&&t(),n&&n()},t.prototype.render=function(){var e=this.props,t=e.cancelText,n=e.confirmText,i=e.className,r=e.header,a=e.children,c=e.red,d=e.size,p=void 0;t&&(p=o(u.default,{type:"button",look:u.default.Looks.LINK,color:u.default.Colors.PRIMARY,onClick:this.handleClose},void 0,t));var v=void 0;return n&&(v=o(u.default,{type:"submit",color:c?u.default.Colors.RED:u.default.Colors.BRAND},void 0,n)),o(l.default,{className:(0,s.default)(i,h.default.container),tag:"form",onSubmit:this.handleSubmit,size:d},void 0,o(l.default.Header,{},void 0,o(f.default,{tag:f.default.Tags.H4,className:h.default.header},void 0,r)),o(l.default.Content,{className:h.default.content},void 0,a),o(l.default.Footer,{},void 0,v,p))},t}(r.PureComponent);_.Sizes=l.default.Sizes,_.key=function(){return"confirm-modal"},_.defaultProps={red:!0,size:l.default.Sizes.SMALL},t.default=_,e.exports=t.default},1957:function(e,t,n){"use strict";t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.findInvites=p,t.findInvite=function(e){return p(e)[0]},t.getInviteURL=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=window.GLOBAL_ENV.INVITE_HOST,n=void 0;null!=t?n="/"+e:(t=location.host,n="/invite/"+e);return location.protocol+"//"+t+n},t.resolveInvite=function(e,t,n){return r.default.get({url:l.Endpoints.INVITE+"/"+e,query:i({},n,{with_counts:!0})}).then(function(n){var i=n.body;return t&&s.default.track(l.AnalyticEvents.INVITE_RESOLVED,{resolved:!0,guild_id:null!=i.guild?i.guild.id:null,channel_id:i.channel.id,channel_type:i.channel.type,inviter_id:i.inviter?i.inviter.id:null,code:e,location:t,authenticated:a.default.isAuthenticated(),size_total:i.approximate_member_count,size_online:i.approximate_presence_count},!0),{invite:i,code:e}},function(){return t&&s.default.track(l.AnalyticEvents.INVITE_RESOLVED,{resolved:!1,code:e,location:t,authenticated:a.default.isAuthenticated()},!0),{invite:null,code:e}})};var o=u(n(1963)),r=u(n(59)),a=u(n(49)),s=u(n(83)),l=n(5);function u(e){return e&&e.__esModule?e:{default:e}}var f=void 0;f=n(2308);var c=new RegExp("(?: |^|https?://)"+o.default.escape(window.GLOBAL_ENV.INVITE_HOST||"")+"(?:/#)?(?:/invite)?/([a-z0-9-]+)","ig"),d=new RegExp("(?: |^|https?:)"+o.default.escape(window.GLOBAL_ENV.WEBAPP_ENDPOINT||"")+"(?:/#)?(?:/invite)/([a-z0-9-]+)","ig");function p(e){if(null==e)return[];var t=(e.match(c)||[]).concat(e.match(d)||[]);return Array.from(new Set(t.map(function(e){var t=e.split("/");return t[t.length-1]})))}t.default={getMaxAgeOptions:f.MAX_AGE_OPTIONS,getMaxUsesOptions:f.MAX_USES_OPTIONS,INVITE_OPTIONS_FOREVER:f.INVITE_OPTIONS_FOREVER,INVITE_OPTIONS_1_DAY:f.INVITE_OPTIONS_1_DAY,INVITE_OPTIONS_12_HOURS:f.INVITE_OPTIONS_12_HOURS,INVITE_OPTIONS_6_HOURS:f.INVITE_OPTIONS_6_HOURS,INVITE_OPTIONS_1_HOUR:f.INVITE_OPTIONS_1_HOUR,INVITE_OPTIONS_30_MINUTES:f.INVITE_OPTIONS_30_MINUTES,INVITE_OPTIONS_UNLIMITED:f.INVITE_OPTIONS_UNLIMITED,INVITE_OPTIONS_ONCE:f.INVITE_OPTIONS_ONCE,INVITE_OPTIONS_5_TIMES:f.INVITE_OPTIONS_5_TIMES,INVITE_OPTIONS_10_TIMES:f.INVITE_OPTIONS_10_TIMES,INVITE_OPTIONS_25_TIMES:f.INVITE_OPTIONS_25_TIMES,INVITE_OPTIONS_50_TIMES:f.INVITE_OPTIONS_50_TIMES,INVITE_OPTIONS_100_TIMES:f.INVITE_OPTIONS_100_TIMES}},1958:function(e,t,n){"use strict";t.__esModule=!0;var i=p(n(14)),o=p(n(423)),r=p(n(202)),a=p(n(59)),s=p(n(1899)),l=p(n(2128)),u=p(n(2098)),f=n(1957),c=p(n(96)),d=n(5);function p(e){return e&&e.__esModule?e:{default:e}}t.default={resolveInvite:function e(t,n,o){return i.default.isDispatching()?Promise.resolve().then(function(){return e(t,n,o)}):(i.default.dispatch({type:d.ActionTypes.INVITE_RESOLVE,code:t}),(0,f.resolveInvite)(t,n,o).then(function(e){var t=e.invite,n=e.code;return null!=t?i.default.dispatch({type:d.ActionTypes.INVITE_RESOLVE_SUCCESS,invite:t,code:n}):i.default.dispatch({type:d.ActionTypes.INVITE_RESOLVE_FAILURE,code:n}),{invite:t,code:n}}))},getInviteContext:function(e,t){return{location:e,location_guild_id:null!=t.guild?t.guild.id:void 0,location_channel_id:null!=t.channel?t.channel.id:void 0,location_channel_type:null!=t.channel?t.channel.type:void 0}},createInvite:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];return a.default.post({url:d.Endpoints.INSTANT_INVITES(e),body:t,context:{location:n}}).then(function(t){return i.default.dispatch({type:d.ActionTypes.INSTANT_INVITE_CREATE_SUCCESS,channelId:e,invite:t.body}),t})},revokeInvite:function(e){a.default.delete(d.Endpoints.INVITE+"/"+e).then(function(){i.default.dispatch({type:d.ActionTypes.INSTANT_INVITE_REVOKE_SUCCESS,code:e})})},acceptInvite:function(e,t,n){return i.default.dirtyDispatch({type:d.ActionTypes.INVITE_ACCEPT,code:e}),a.default.post({url:d.Endpoints.INVITE+"/"+e,context:t}).then(function(t){return i.default.dispatch({type:d.ActionTypes.INVITE_ACCEPT_SUCCESS,invite:t.body,code:e}),n?n(t.body):i.default.dispatch({type:d.ActionTypes.INVITE_APP_NOT_OPENED,code:e}),t.body},function(t){throw i.default.dispatch({type:d.ActionTypes.INVITE_ACCEPT_FAILURE,code:e}),new Error(t&&t.body&&t.body.message)})},acceptInviteAndTransitionToInviteChannel:function(e,t){var n=this;return this.acceptInvite(e,t,function(e){null!=e.channel&&n.transitionToInviteChannelSync(e.channel.id)})},transitionToInviteChannel:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.ChannelTypes.GUILD_TEXT,o=arguments[3],r=d.Routes.CHANNEL(e,t);i===d.ChannelTypes.GUILD_VOICE&&(r=d.Routes.GUILD(e),l.default.call(function(){return Promise.all([n.e(0),n.e(1),n.e(6),n.e(8),n.e(5),n.e(7),n.e(170)]).then(n.t.bind(null,1936,7)).then(function(n){return n.default.selectVoiceChannel(e,t)})})),null!=o?o(r):c.default.transitionTo(r)},transitionToInviteChannelSync:function(e){var t=this;s.default.addConditionalChangeListener(function(){var n=s.default.getChannel(e);if(null!=n)return t.transitionToInviteChannel(n.getGuildId()||d.ME,n.id,n.type),!1})},openNativeAppModal:function(e){var t=this;i.default.dirtyDispatch({type:d.ActionTypes.INVITE_NATIVE_APP_MODAL_OPENING,code:e}),n.e(169).then(n.t.bind(null,2017,7)).then(function(n){n.default.request(d.RPCCommands.INVITE_BROWSER,{code:e}).then(function(e){var n=e.code;return t.nativeModalOpened(n)}).catch(function(){return t.nativeModalOpenFailed(e)}).then(function(){return n.default.disconnect()})})},nativeModalOpened:function(e){i.default.dispatch({type:d.ActionTypes.INVITE_NATIVE_APP_MODAL_OPENED,code:e})},nativeModalOpenFailed:function(e){i.default.dispatch({type:d.ActionTypes.INVITE_NATIVE_APP_MODAL_OPEN_FAILED,code:e})},openApp:function(e,t,n){i.default.maybeDispatch({type:d.ActionTypes.INVITE_APP_OPENING,code:e});var a=void 0;"Android"===o.default.os.family||"iOS"===o.default.os.family?a=d.DownloadLinks.DYNAMIC("invite",{queryString:r.default.stringify({fingerprint:n}),inviteCode:e}):("#"===(a=t?d.Routes.INVITE_PROXY(t):"")[0]&&(a=a.slice(1)),a="discord://"+a),u.default.launch(a,function(t){i.default.dispatch({type:t?d.ActionTypes.INVITE_APP_OPENED:d.ActionTypes.INVITE_APP_NOT_OPENED,code:e})})}},e.exports=t.default},1963:function(e,t,n){"use strict";t.__esModule=!0,t.default={escape:function(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}},e.exports=t.default},2098:function(e,t,n){"use strict";(function(i){t.__esModule=!0;var o,r=n(423),a=(o=r)&&o.__esModule?o:{default:o};function s(e,t){var n=document.createElement("iframe");document.body.appendChild(n);try{n.contentWindow.location.href=e,i.nextTick(function(){return t(!0)})}catch(e){"NS_ERROR_UNKNOWN_PROTOCOL"===e.name&&i.nextTick(function(){return t(!1)})}document.body.removeChild(n)}function l(e,t){var n=!1;function i(){n=!0}window.addEventListener("blur",i),location.href=e,setTimeout(function(){window.removeEventListener("blur",i),t(n)},1e3)}function u(e,t){t(!1)}t.default={launch:"Gecko"===a.default.layout?s:-1!==a.default.ua.indexOf("Valve Steam GameOverlay")?u:l},e.exports=t.default}).call(this,n(76))},2128:function(e,t,n){"use strict";t.__esModule=!0;var i,o=n(14),r=(i=o)&&i.__esModule?i:{default:i},a=n(5);t.default={call:function(e){r.default.dirtyDispatch({type:a.ActionTypes.POST_CONNECTION_PENDING_CALLBACK,callback:e})}},e.exports=t.default},2187:function(e,t,n){"use strict";t.__esModule=!0;var i,o=(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),s=p(n(36)),l=p(n(422)),u=n(425),f=n(5),c=n(432),d=p(n(1609));function p(e){return e&&e.__esModule?e:{default:e}}var h={DEFAULT:"default",INVERTED:"inverted",GHOST:"ghost"},v={BOX:d.default.box,ROUND:d.default.round},_=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return i.handleChange=i.handleChange.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleChange=function(e){var t=this.props.onChange;t&&t(e,e.currentTarget.checked)},t.prototype.getInputMode=function(){return this.props.disabled?"disabled":this.props.readOnly?"readonly":"default"},t.prototype.getStyle=function(){var e=this.props,t=e.value,n=e.type,i=e.color,o=this.props.style||{};if(!1===t)return o;switch(o=r({},o),n){case h.DEFAULT:o.borderColor=i;break;case h.GHOST:o.borderColor=(0,c.hex2rgb)(i,.15),o.backgroundColor=(0,c.hex2rgb)(i,.15);break;case h.INVERTED:o.backgroundColor=i,o.borderColor=i}return o},t.prototype.getColor=function(){var e=this.props,t=e.value,n=e.type,i=e.color;return t?n===h.INVERTED?f.Colors.WHITE:i:"transparent"},t.prototype.render=function(){var e,t=this.props,n=t.disabled,i=t.readOnly,a=t.value,c=t.shape,p=t.className,h=t.children,v=t.size;return o("label",{className:(0,s.default)((0,u.getClass)(d.default,"checkboxWrapper",n?"disabled":""),p),style:{height:v}},void 0,o("input",{className:(0,u.getClass)(d.default,"input",this.getInputMode()),type:"checkbox",onChange:n||i?f.NOOP:this.handleChange,checked:a,style:{width:v,height:v}}),o("div",{className:(0,s.default)(d.default.checkbox,c,(e={},e[d.default.checked]=a,e)),style:r({width:v,height:v},this.getStyle())},void 0,o(l.default,{name:l.default.Names.CHECKMARK,width:18,height:18,color:this.getColor()})),h?o("div",{className:d.default.label,style:{lineHeight:v+"px"}},void 0,h):null)},t}(a.PureComponent);_.Types=h,_.Shapes=v,_.defaultProps={size:24,disabled:!1,readOnly:!1,value:!1,type:h.DEFAULT,color:f.Colors.BRAND,shape:v.BOX,onChange:f.NOOP},t.default=_,e.exports=t.default},2210:function(e,t,n){"use strict";t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),r=n(5),a=s(n(2398));function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,s(n(2360)).default)(a.default,"https://www.google.com/recaptcha/api.js?onload=onRecaptchaLibLoadCallback&render=explicit",{callbackName:"onRecaptchaLibLoadCallback",globalName:"grecaptcha"}),u=function(e){return o.createElement(l,i({sitekey:r.RECAPTCHA_SITE_KEY},e))};u.Themes={LIGHT:"light",DARK:"dark"},u.Sizes={COMPACT:"compact",NORMAL:"normal"},u.Types={IMAGE:"image",AUDIO:"audio"},t.default=u,e.exports=t.default},2308:function(e,t,n){"use strict";t.__esModule=!0,t.MAX_AGE_OPTIONS=t.INVITE_OPTIONS_FOREVER=t.INVITE_OPTIONS_1_DAY=t.INVITE_OPTIONS_12_HOURS=t.INVITE_OPTIONS_6_HOURS=t.INVITE_OPTIONS_1_HOUR=t.INVITE_OPTIONS_30_MINUTES=t.MAX_USES_OPTIONS=t.INVITE_OPTIONS_100_TIMES=t.INVITE_OPTIONS_50_TIMES=t.INVITE_OPTIONS_25_TIMES=t.INVITE_OPTIONS_10_TIMES=t.INVITE_OPTIONS_5_TIMES=t.INVITE_OPTIONS_ONCE=t.INVITE_OPTIONS_UNLIMITED=void 0;var i,o=n(74),r=(i=o)&&i.__esModule?i:{default:i};function a(e,t){return{value:e,get label(){return t()}}}var s=t.INVITE_OPTIONS_UNLIMITED=a(0,function(){return r.default.Messages.MAX_USES.format({maxUses:0})}),l=t.INVITE_OPTIONS_ONCE=a(1,function(){return r.default.Messages.MAX_USES.format({maxUses:1})}),u=t.INVITE_OPTIONS_5_TIMES=a(5,function(){return r.default.Messages.MAX_USES.format({maxUses:5})}),f=t.INVITE_OPTIONS_10_TIMES=a(10,function(){return r.default.Messages.MAX_USES.format({maxUses:10})}),c=t.INVITE_OPTIONS_25_TIMES=a(25,function(){return r.default.Messages.MAX_USES.format({maxUses:25})}),d=t.INVITE_OPTIONS_50_TIMES=a(50,function(){return r.default.Messages.MAX_USES.format({maxUses:50})}),p=t.INVITE_OPTIONS_100_TIMES=a(100,function(){return r.default.Messages.MAX_USES.format({maxUses:100})}),h=(t.MAX_USES_OPTIONS=[s,l,u,f,c,d,p],t.INVITE_OPTIONS_30_MINUTES=a(1800,function(){return r.default.Messages.DURATION_MINUTES.format({minutes:30})})),v=t.INVITE_OPTIONS_1_HOUR=a(3600,function(){return r.default.Messages.DURATION_HOURS.format({hours:1})}),_=t.INVITE_OPTIONS_6_HOURS=a(21600,function(){return r.default.Messages.DURATION_HOURS.format({hours:6})}),m=t.INVITE_OPTIONS_12_HOURS=a(43200,function(){return r.default.Messages.DURATION_HOURS.format({hours:12})}),E=t.INVITE_OPTIONS_1_DAY=a(86400,function(){return r.default.Messages.DURATION_DAYS.format({days:1})}),y=t.INVITE_OPTIONS_FOREVER=a(0,function(){return r.default.Messages.MAX_AGE_NEVER});t.MAX_AGE_OPTIONS=[h,v,_,m,E,y]},2334:function(e,t,n){"use strict";t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=u(n(15)),r=u(n(14)),a=u(n(5001)),s=n(5),l=n(1957);function u(e){return e&&e.__esModule?e:{default:e}}var f={},c=new Set;function d(e,t){var n=i({code:e,state:s.InviteStates.RESOLVING},f[e]);t(n),f[e]=i({},n)}function p(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&!c.has(e.channel_id))return!1;var t=(0,l.findInvites)(e.content);if(null==t||0===t.length)return!1;t.forEach(function(e){null==f[e]&&(h({code:e}),(0,l.resolveInvite)(e).then(function(e){var t=e.invite,n=e.code;null!=t?r.default.dispatch({type:s.ActionTypes.INVITE_RESOLVE_SUCCESS,invite:t,code:n}):r.default.dispatch({type:s.ActionTypes.INVITE_RESOLVE_FAILURE,code:n})}))})}function h(e){f[e.code]={code:e.code,state:s.InviteStates.RESOLVING}}function v(e){return d(e.code,function(e){e.state=s.InviteStates.EXPIRED})}function _(e){return p(e.message,!0)}function m(e){var t=e.channelId,n=e.messages;c.add(t),n.forEach(function(e){return p(e,!0)})}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getInvite=function(e){return f[e]},t.prototype.getInvites=function(e){return null!=e?(0,a.default)(f).filter(function(t){return null!=t.guild&&t.guild.id===e}):(0,a.default)(f)},t}(o.default.Store);t.default=new E(r.default,{CONNECTION_OPEN:function(e){return c.clear(),!1},CHANNEL_SELECT:function(e){var t=e.channelId;return null!=t&&c.add(t),!1},INVITE_RESOLVE:h,INVITE_RESOLVE_SUCCESS:function(e){return d(e.code,function(t){t.state=s.InviteStates.RESOLVED,t.guild=e.invite.guild,t.channel=e.invite.channel,t.inviter=e.invite.inviter,t.approximate_member_count=null!=e.invite.approximate_member_count?e.invite.approximate_member_count:null,t.approximate_presence_count=null!=e.invite.approximate_presence_count?e.invite.approximate_presence_count:null})},INVITE_RESOLVE_FAILURE:v,INSTANT_INVITE_REVOKE_SUCCESS:v,INVITE_ACCEPT:function(e){return d(e.code,function(e){e.state=s.InviteStates.ACCEPTED})},INVITE_ACCEPT_SUCCESS:function(e){return d(e.code,function(t){t.state=s.InviteStates.ACCEPTED,t.guild=e.invite.guild,t.channel=i({},t.channel,e.invite.channel)})},INVITE_ACCEPT_FAILURE:function(e){return d(e.code,function(e){e.state=s.InviteStates.EXPIRED})},INVITE_APP_OPENING:function(e){return d(e.code,function(e){e.state=s.InviteStates.APP_OPENING})},INVITE_APP_OPENED:function(e){return d(e.code,function(e){e.state=s.InviteStates.APP_OPENED})},INVITE_NATIVE_APP_MODAL_OPENING:function(e){return d(e.code,function(e){e.nativeAppState=s.InviteNativeAppStates.OPENING})},INVITE_NATIVE_APP_MODAL_OPENED:function(e){return d(e.code,function(e){e.nativeAppState=s.InviteNativeAppStates.OPEN})},INVITE_NATIVE_APP_MODAL_OPEN_FAILED:function(e){return d(e.code,function(e){e.nativeAppState=s.InviteNativeAppStates.OPEN_FAIL})},INVITE_APP_NOT_OPENED:function(e){return d(e.code,function(e){e.state=s.InviteStates.APP_NOT_OPENED})},MESSAGE_CREATE:_,MESSAGE_UPDATE:_,LOAD_MESSAGES_SUCCESS:m,LOAD_MESSAGES_AROUND_SUCCESS:m,LOAD_RECENT_MENTIONS_SUCCESS:function(e){e.messages.forEach(function(e){return p(e)})},LOAD_PINNED_MESSAGES_SUCCESS:function(e){e.messages.forEach(function(e){return p(e)})},SEARCH_FINISH:function(e){e.messages.forEach(function(e){e.forEach(function(e){return p(e)})})}}),e.exports=t.default},2364:function(e,t,n){"use strict";t.__esModule=!0;t.NOOP=function(){},t.MIN_RADIUS=780,t.MAX_RADIUS=1e3,t.TWO_PI=2*Math.PI,t.POINT_TENSION_DEFAULT=150,t.WaveStates={INITIAL:0,ENTERED:1,FILLING:2,FILLED:3}},2365:function(e,t,n){"use strict";t.__esModule=!0,t.InviteResolvingHeader=void 0;var i,o=(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),a=v(n(74)),s=v(n(36)),l=n(2062),u=v(n(428)),f=v(n(1917)),c=v(n(194)),d=n(5),p=v(n(1527)),h=v(n(445));function v(e){return e&&e.__esModule?e:{default:e}}t.InviteResolvingHeader=function(){return o(r.Fragment,{},void 0,o(l.Avatar,{src:null,size:l.Avatar.Sizes.XXLARGE,className:p.default.marginBottom20}),o(l.Subtitle,{},void 0,a.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN),o(l.Title,{className:(0,s.default)(p.default.marginTop8,h.default.flexCenter)},void 0,a.default.Messages.LOADING))};var _=function(e){var t=e.guild,n=e.user;return n?o(l.Avatar,{src:null!=n?n.getAvatarURL():null,size:l.Avatar.Sizes.XXLARGE,className:p.default.marginBottom20}):t?o(l.GuildIcon,{guild:t,size:l.GuildIcon.Sizes.XLARGE,className:p.default.marginBottom20}):null};t.default=function(e){var t=e.invite,n=e.disableUser,i=void 0!==n&&n,v=e.error,m=e.theme;if(null==t)return null;var E=null!=t.guild?new u.default(t.guild):null,y=null!=t.channel?new f.default(t.channel):null,g=i||null==t.inviter?null:new c.default(t.inviter),I=null!=t.approximate_member_count&&t.approximate_member_count>100,T=null!=E&&E.hasFeature(d.GuildFeatures.VERIFIED),S=void 0,N=void 0,O=void 0;if(null!=E)S=null==g?a.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN:a.default.Messages.AUTH_MESSAGE_INVITED_BY.format({username:g.username}),I||T||(N=o(l.GuildIcon,{guild:E,size:l.GuildIcon.Sizes.SMALL})),O=E.name;else if(null!=y){if(null==g)throw new Error("no inviter in group DM invite");var A=g.username;y.name?(S=a.default.Messages.AUTH_MESSAGE_INVITED_BY.format({username:A}),O=y.name,null!=y.icon&&(N=o(l.ChannelIcon,{channel:y,size:l.Avatar.Sizes.SMALL}))):(S=a.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN_GROUP_DM,O=A)}return o(r.Fragment,{},void 0,o(_,{guild:E,user:i||I?null:g}),v?o(r.Fragment,{},void 0,o(l.Subtitle,{},void 0,a.default.Messages.INVITE_MODAL_ERROR_TITLE),o(l.Title,{},void 0,v)):o(r.Fragment,{},void 0,o(l.Subtitle,{},void 0,S),o(l.Title,{className:(0,s.default)(p.default.marginTop8,h.default.flexCenter)},void 0,T?o(l.VerifiedIcon,{theme:m}):null,N,O)),o(l.ActivityCount,{className:p.default.marginTop8,online:t.approximate_presence_count,total:t.approximate_member_count}))}},4876:function(e,t,n){"use strict";t.__esModule=!0,t.randomNumber=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},t.applySpringForce=function(e,t,n,i){return i.tension*(e-t)-i.friction*n}},4951:function(e,t,n){e.exports=n.p+"0f4d1ff76624bb45a3fee4189279ee92.svg"},4958:function(e,t,n){e.exports=n.p+"15e6bcd95b5bdd084dc794b496088f19.png"},4959:function(e,t,n){e.exports=n.p+"14c037b7102f18b2d2ccf065a52bb595.jpg"},4960:function(e,t,n){e.exports=n.p+"fd91131ea693096d6be5e8aa99d18f9e.jpg"},4961:function(e,t,n){"use strict";t.__esModule=!0,t.getArtForPath=t.makeAuthenticated=void 0;var i,o=(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),a=n(137),s=c(n(49)),l=n(4941),u=c(n(4960)),f=c(n(4959));function c(e){return e&&e.__esModule?e:{default:e}}t.makeAuthenticated=function(e){return function(t){if(!s.default.isAuthenticated()){var n=location.pathname+location.search;return o(a.Redirect,{to:(0,l.getLoginPath)(n,!1)})}return r.createElement(e,t)}},t.getArtForPath=function(e){if(null!=e&&/^\/developers-new?\//.test(e))return n(4958);var t=(new Date).getHours();return t>=6&&t<20?u.default:f.default}},5138:function(e,t,n){e.exports=n.p+"bdcfee0c4d9fb22ce3c47b593df14254.svg"},5139:function(e,t,n){e.exports=n.p+"375217725f8ad1df6310e6738a7306e4.svg"},5140:function(e,t,n){e.exports=n.p+"ab4f6c12a1ced9de8b5d279056f21334.svg"},5141:function(e,t,n){"use strict";t.__esModule=!0;var i,o=(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),a=n(443),s=b(n(15)),l=b(n(74)),u=n(2365),f=b(u),c=b(n(5142)),d=n(2062),p=b(d),h=b(n(1918)),v=b(n(1911)),_=b(n(2187)),m=b(n(418)),E=b(n(447)),y=b(n(49)),g=b(n(439)),I=b(n(83)),T=n(193),S=n(4941),N=n(5),O=b(n(1527)),A=b(n(1639));function b(e){return e&&e.__esModule?e:{default:e}}s.default.initialize();var M=o(u.InviteResolvingHeader,{}),C=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));i.handleCaptchaChange=function(e){return i.setState({captchaKey:e},function(){return i.handleRegister()})},i.handleGotoLogin=function(){var e=i.props,t=e.onLoginStart,n=e.transitionTo,o=e.invite,r=e.redirectTo,a=""!==i.state.email?"email="+i.state.email:"",s=void 0;s=null!=o?N.Routes.INVITE_LOGIN(o.code):null!=r?N.Routes.LOGIN_AND_REDIRECT(r):(0,S.getLoginPath)(N.Routes.APP,!1,a),g.default.loginReset(),n(s),null!=t&&t(),T.ComponentDispatch.dispatch(N.ComponentActions.WAVE_EMPHASIZE)},i.handleSubmit=function(e){e&&e.preventDefault(),i.handleRegister()};var o=null!=n.location?(0,a.parse)(n.location.search):{};return i.state={email:o.email||"",username:"",password:"",captchaKey:null,consent:!n.consentRequired},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.hasConsent=function(){var e=this.props.consentRequired,t=this.state.consent;return null!=e&&t},t.prototype.componentDidMount=function(){this.redirectIfAuthenticated(),null==this.props.invite&&I.default.track(N.AnalyticEvents.REGISTER_VIEWED,{},!0),null==this.props.consentRequired&&g.default.getConsentRequired()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){null==this.props.consentRequired&&null!=e.consentRequired&&(e.consentRequired?this.setState({consent:!1}):e.consentRequired||this.setState({consent:!0}))},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.errors,i=t.authenticated;e.errors!==n&&(this.hasError("email")?null!=this.emailRef&&this.emailRef.focus():this.hasError("username")?null!=this.usernameRef&&this.usernameRef.focus():this.hasError("password")&&null!=this.passwordRef&&this.passwordRef.focus()),i&&!e.authenticated&&this.redirectIfAuthenticated()},t.prototype.redirectIfAuthenticated=function(){var e=this.props,t=e.authenticated,n=e.transitionTo,i=e.redirectTo;t&&n(null!=i?i:E.default.defaultRoute)},t.prototype.handleRegister=function(){var e=this.state,t=e.email,n=e.username,i=e.password,o=e.captchaKey,r=e.consent,a=this.props,s=a.invite,l=a.consentRequired,u=null!=s?s.code:null;null!==l&&(null!=s?g.default.register(n,r,u,o):g.default.registerFull(t,n,r,i,u,o),T.ComponentDispatch.dispatch(N.ComponentActions.WAVE_EMPHASIZE))},t.prototype.hasError=function(e){return null!=this.props.errors[e]},t.prototype.renderConsentComponents=function(){var e=this,t=this.state.consent,n=null,i=null;return this.props.consentRequired?i=o(m.default,{className:O.default.marginTop20,align:m.default.Align.CENTER},void 0,o(_.default,{value:t,type:_.default.Types.INVERTED,onChange:function(t,n){return e.setState({consent:n})},className:A.default.checkbox}),o(d.SubText,{},void 0,l.default.Messages.TERMS_PRIVACY_OPT_IN.format({termsURL:N.MarketingURLs.TERMS,privacyURL:N.MarketingURLs.PRIVACY}))):n=o(d.SubText,{className:O.default.marginTop20},void 0,l.default.Messages.TERMS_PRIVACY.format({termsURL:N.MarketingURLs.TERMS,privacyURL:N.MarketingURLs.PRIVACY})),{subText:n,consentText:i}},t.prototype.renderInviteResolving=function(){var e=this;return o(p.default,{},void 0,M,o(d.Block,{className:O.default.marginTop40},void 0,o(h.default,{},void 0,l.default.Messages.FORM_LABEL_USERNAME),o(v.default,{text:l.default.Messages.AUTH_USERNAME_TOOLTIP,position:v.default.Positions.RIGHT,color:v.default.Colors.BRAND},void 0,o(d.Input,{autoFocus:!0,className:O.default.marginBottom8,name:"username",value:this.state.username,placeholder:l.default.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})}})),o(d.Button,{className:O.default.marginTop20,disabled:!0},void 0,l.default.Messages.CONTINUE),o(d.Button,{look:d.Button.Looks.LINK,disabled:!0,className:O.default.marginTop8},void 0,l.default.Messages.ALREADY_HAVE_ACCOUNT),o(d.SubText,{disabled:!0,className:O.default.marginTop20},void 0,l.default.Messages.TERMS_PRIVACY.format({termsURL:N.MarketingURLs.TERMS,privacyURL:N.MarketingURLs.PRIVACY}))))},t.prototype.renderInvite=function(){var e=this,t=this.props,n=t.invite,i=t.registering,r=t.consentRequired,a=t.errors.username,s=this.state.consent,u=this.renderConsentComponents(),c=u.subText,_=u.consentText,m=o(d.Button,{className:O.default.marginTop20,type:"submit",submitting:i,disabled:!this.hasConsent()},void 0,l.default.Messages.CONTINUE);return!s&&r&&(m=o(v.default,{text:l.default.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP},void 0,m)),o(p.default,{onSubmit:this.handleSubmit,tag:"form"},void 0,o(f.default,{invite:n}),o(d.Block,{className:O.default.marginTop40},void 0,o(h.default,{error:a},void 0,l.default.Messages.FORM_LABEL_USERNAME),o(v.default,{text:l.default.Messages.AUTH_USERNAME_TOOLTIP,position:v.default.Positions.RIGHT,color:v.default.Colors.BRAND},void 0,o(d.Input,{autoFocus:!0,className:O.default.marginBottom8,name:"username",value:this.state.username,placeholder:l.default.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})},error:null!=a?"":null})),_,m,o(d.Button,{look:d.Button.Looks.LINK,onClick:this.handleGotoLogin,className:O.default.marginTop8},void 0,l.default.Messages.ALREADY_HAVE_ACCOUNT),c))},t.prototype.renderFull=function(){var e=this,t=this.state,n=t.email,i=t.username,r=t.password,a=t.consent,s=this.props,u=s.registering,f=s.consentRequired,c=s.errors,h=(c=void 0===c?{}:c).email,_=c.username,m=c.password,E=this.renderConsentComponents(),y=E.subText,g=E.consentText,I=o(d.Button,{type:"submit",submitting:u,disabled:!this.hasConsent(),className:O.default.marginTop20},void 0,l.default.Messages.CONTINUE);return!a&&f&&(I=o(v.default,{text:l.default.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP},void 0,I)),o(p.default,{onSubmit:this.handleSubmit,tag:"form"},void 0,o(d.Title,{},void 0,l.default.Messages.REGISTER_TITLE),o(d.Block,{className:O.default.marginTop20},void 0,o(d.Input,{autoFocus:!0,label:l.default.Messages.FORM_LABEL_EMAIL,className:O.default.marginBottom20,name:"email",value:n,onChange:function(t){return e.setState({email:t})},error:h,type:"email",setRef:function(t){return e.emailRef=t}}),o(d.Input,{label:l.default.Messages.FORM_LABEL_USERNAME,className:O.default.marginBottom20,name:"username",value:i,onChange:function(t){return e.setState({username:t})},error:_,setRef:function(t){return e.usernameRef=t}}),o(d.Input,{label:l.default.Messages.FORM_LABEL_PASSWORD,name:"password",value:r,onChange:function(t){return e.setState({password:t})},error:m,type:"password",setRef:function(t){return e.passwordRef=t}}),g,I,o(d.Button,{look:d.Button.Looks.LINK,onClick:this.handleGotoLogin,className:O.default.marginTop8},void 0,l.default.Messages.ALREADY_HAVE_ACCOUNT),y))},t.prototype.render=function(){if(this.hasError("captcha_key"))return o(c.default,{onChange:this.handleCaptchaChange,title:l.default.Messages.REGISTER_TITLE});var e=this.props.invite;return null==e?this.renderFull():e.state===N.InviteStates.RESOLVING?this.renderInviteResolving():this.renderInvite()},t}(r.PureComponent);t.default=s.default.connectStores([y.default],function(){return{consentRequired:y.default.getConsentRequired(),authenticated:y.default.isAuthenticated(),registering:y.default.getRegisterStatus(),errors:y.default.getErrors()}})(C),e.exports=t.default},5142:function(e,t,n){"use strict";t.__esModule=!0;var i,o=(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(3)),c(n(74))),a=n(2062),s=c(a),l=c(n(2210)),u=c(n(1527)),f=c(n(445));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.title,i=e.onChange;return o(s.default,{},void 0,o("img",{alt:"",src:n(4951),className:u.default.marginBottom20}),o(a.Title,{className:u.default.marginBottom8},void 0,t),o(a.Subtitle,{className:u.default.marginBottom40},void 0,r.default.Messages.BEEP_BOOP),o("div",{className:f.default.flexCenter},void 0,o(l.default,{onChange:i,theme:l.default.Themes.DARK})))},e.exports=t.default},5143:function(e,t,n){"use strict";t.__esModule=!0;var i,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),s=R(n(15)),l=R(n(74)),u=n(443),f=R(n(36)),c=n(2062),d=R(c),p=R(n(1908)),h=n(2365),v=R(h),_=R(n(5142)),m=R(n(1937)),E=R(n(49)),y=R(n(447)),g=R(n(493)),I=R(n(439)),T=n(455),S=R(n(420)),N=R(n(83)),O=n(193),A=n(5),b=R(n(1527)),M=R(n(1541)),C=R(n(1640));function R(e){return e&&e.__esModule?e:{default:e}}var P=r(c.AuthSpinner,{hideQuote:!0}),w=r(h.InviteResolvingHeader,{}),L=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));D.call(i);var o=null!=n.location?(0,u.parse)(n.location.search):{};return i.state={redirecting:n.authenticated,checkingHandoff:n.handoffAvailable,email:o.email||"",password:"",code:"",smsCode:"",captchaKey:null},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.handoffAvailable,n=e.authenticated;t&&!n?(0,T.handoffBegin)():n&&this.loginOrSSO(n,location,!0),null==this.props.invite&&N.default.track(A.AnalyticEvents.LOGIN_VIEWED,{},!0)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.props.handoffAvailable;e.handoffAvailable||!t||e.authenticated||this.setState({checkingHandoff:!1})},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.authenticated,i=t.location,o=this.state.checkingHandoff;!n||e.authenticated||o||this.loginOrSSO(n,i),e.errors!==this.props.errors&&(this.hasError("email")?null!=this.emailRef&&this.emailRef.focus():this.hasError("password")?null!=this.passwordRef&&this.passwordRef.focus():this.hasError("code")&&null!=this.codeRef&&this.codeRef.focus())},t.prototype.loginOrSSO=function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&null!=t&&(i?I.default.verifySSOToken().then(function(){return n.transitionSSO(t)}):this.transitionSSO(t))},t.prototype.transitionSSO=function(e){var t=(0,u.parse)(e.search),n=this.props,i=n.transitionTo,o=n.redirectTo;if(null!=o)i(o);else if(null==t.service)i(A.Routes.APP);else{var r=window.location.protocol+window.GLOBAL_ENV.API_ENDPOINT+A.Endpoints.SSO;window.location=r+"?token="+(E.default.getToken()||"")+"&"+(0,u.stringify)(t)}},t.prototype.hasError=function(e){return null!=this.props.errors[e]},t.prototype.renderHandOffAvailable=function(){return r(d.default,{},void 0,P,r(c.Title,{className:b.default.marginBottom8},void 0,l.default.Messages.BROWSER_HANDOFF_DETECTING_TITLE),r(c.Subtitle,{},void 0,l.default.Messages.AUTH_BROWSER_HANDOFF_DETECTING_DESCRIPTION))},t.prototype.renderHandOffContinue=function(){var e=this.props,t=e.user,n=e.transitionTo;return null==t?null:r(d.default,{},void 0,r(c.Avatar,{src:t.getAvatarURL(),size:c.Avatar.Sizes.XXLARGE,className:b.default.marginBottom20}),r(c.Title,{className:b.default.marginBottom8},void 0,l.default.Messages.BROWSER_HANDOFF_SUCCESS_TITLE.format({name:t.toString()})),r(c.Subtitle,{className:b.default.marginBottom40},void 0,l.default.Messages.BROWSER_HANDOFF_SUCCESS_BODY),r(c.Block,{},void 0,r(c.Button,{onClick:function(){return n(A.Routes.APP)},className:b.default.marginBottom8},void 0,l.default.Messages.BROWSER_HANDOFF_SUCCESS_ACTION.format({name:t.toString()})),r(c.Button,{look:c.Button.Looks.LINK,onClick:this.handleReset},void 0,l.default.Messages.BROWSER_HANDOFF_SUCCESS_CANCEL)))},t.prototype.renderDisabledAccount=function(){var e=this.props.loginStatus===A.LoginStates.ACCOUNT_DISABLED,t=e?l.default.Messages.ACCOUNT_DISABLED_TITLE:l.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_TITLE,n=e?l.default.Messages.ACCOUNT_DISABLED_DESCRIPTION:l.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_DESCRIPTION;return r(d.default,{tag:"form",onSubmit:this.handleReset},void 0,r(c.Title,{className:b.default.marginBottom8},void 0,t),r(c.Subtitle,{className:b.default.marginBottom20},void 0,n),r(c.Block,{},void 0,r(c.Button,{color:c.Button.Colors.BRAND,type:"submit"},void 0,l.default.Messages.RETURN_TO_LOGIN),r("div",{className:(0,f.default)(b.default.marginTop8,C.default.needAccount)},void 0,l.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_CANCEL.format({onClick:this.handleCancelAccountDeletion}))))},t.prototype.renderResolving=function(){var e=this;return r(d.default,{},void 0,w,r(c.Block,{className:b.default.marginTop20},void 0,r(c.Input,{className:b.default.marginBottom20,label:l.default.Messages.FORM_LABEL_EMAIL,onChange:function(t){return e.setState({email:t})},type:"email",setRef:this.setEmailRef,autoComplete:"off",spellCheck:"false",value:this.state.email,autoFocus:!0}),r(c.Input,{className:b.default.marginBottom20,label:l.default.Messages.FORM_LABEL_PASSWORD,onChange:function(t){return e.setState({password:t})},type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",value:this.state.password}),r(c.Button,{className:b.default.marginBottom8,type:"submit",disabled:!0},void 0,l.default.Messages.LOGIN),r(c.Button,{disabled:!0,look:c.Button.Looks.LINK},void 0,l.default.Messages.FORGOT_PASSWORD),r(c.Button,{disabled:!0,className:b.default.marginTop4,look:c.Button.Looks.LINK},void 0,l.default.Messages.NEED_ACCOUNT)))},t.prototype.renderDefault=function(){var e=this,t=this.props,n=t.invite,i=t.loginStatus,o=!this.hasError("email")&&this.hasError("password"),s=void 0;return s=null!=n&&null!=n.channel?r(v.default,{invite:n}):r(a.Fragment,{},void 0,r(c.Title,{className:b.default.marginBottom8},"title",l.default.Messages.LOGIN_TITLE),r(c.Subtitle,{},"subtitle",l.default.Messages.AUTH_LOGIN_BODY)),r(d.default,{onSubmit:this.handleLogin,tag:"form"},void 0,s,r(c.Block,{className:b.default.marginTop20},void 0,r(c.Input,{className:b.default.marginBottom20,label:l.default.Messages.FORM_LABEL_EMAIL,error:this.renderError("email"),onChange:function(t){return e.setState({email:t})},type:"email",setRef:this.setEmailRef,autoComplete:"off",spellCheck:"false",value:this.state.email,autoFocus:!o}),r(c.Input,{label:l.default.Messages.FORM_LABEL_PASSWORD,error:this.renderError("password"),onChange:function(t){return e.setState({password:t})},type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",autoFocus:o,value:this.state.password}),r(c.Button,{tabIndex:10,onClick:this.handleForgotPassword,look:c.Button.Looks.LINK,className:(0,f.default)(b.default.marginBottom20,b.default.marginTop4)},void 0,l.default.Messages.FORGOT_PASSWORD),r(c.Button,{type:"submit",submitting:i===A.LoginStates.LOGGING_IN,className:b.default.marginBottom8},void 0,l.default.Messages.LOGIN),r("div",{className:b.default.marginTop4},void 0,r("span",{className:C.default.needAccount},void 0,l.default.Messages.NEED_ACCOUNT),r(c.Button,{onClick:this.handleGotoRegister,look:c.Button.Looks.LINK,className:C.default.smallRegisterLink},void 0,l.default.Messages.REGISTER))))},t.prototype.renderMFA=function(){var e=this,t=this.props,i=t.loginStatus,o=t.mfaSMS;return r(d.default,{onSubmit:this.handleTokenSubmit,tag:"form"},void 0,r("img",{alt:"",src:n(4951),className:b.default.marginBottom20}),r(c.Title,{className:b.default.marginBottom8},void 0,l.default.Messages.TWO_FA),r(c.Subtitle,{},void 0,l.default.Messages.TWO_FA_ENTER_TOKEN_BODY),r(c.Block,{className:b.default.marginTop40},void 0,r(c.Input,{className:b.default.marginBottom20,error:this.renderError("code"),setRef:this.setCodeRef,onChange:function(t){return e.setState({code:t})},autoComplete:"off",placeholder:l.default.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,label:l.default.Messages.TWO_FA_ENTER_TOKEN_LABEL,value:this.state.code},"totpCode"),r(c.Button,{type:"submit",submitting:i===A.LoginStates.LOGGING_IN_MFA},void 0,l.default.Messages.LOGIN),o?r(c.Button,{onClick:this.handleToggleSMSLogin,submitting:i===A.LoginStates.LOGGING_IN_MFA_SMS,className:b.default.marginTop8,look:c.Button.Looks.LINK},void 0,l.default.Messages.MFA_SMS_RECEIVE_CODE):null,r(c.Button,{look:c.Button.Looks.LINK,className:b.default.marginTop4,onClick:this.handleReset},void 0,l.default.Messages.TWO_FA_LOGIN_FOOTER)))},t.prototype.renderMFASMS=function(){var e=this,t=this.props,i=t.loginStatus,o=t.maskedPhone,a=i===A.LoginStates.LOGGING_IN_MFA_SMS||""===o;return r(d.default,{onSubmit:this.handleSMSTokenSubmit,tag:"form"},void 0,r("img",{alt:"",src:n(4951),className:b.default.marginBottom20}),r(c.Title,{className:b.default.marginBottom8},void 0,l.default.Messages.TWO_FA),r(c.Subtitle,{className:b.default.marginBottom8},void 0,a?l.default.Messages.TWO_FA_ENTER_SMS_TOKEN_SENDING:l.default.Messages.TWO_FA_ENTER_SMS_TOKEN_SENT.format({phoneNumber:o})),r(c.Block,{className:b.default.marginTop40},void 0,r(c.Input,{className:b.default.marginBottom20,error:this.renderError("code"),setRef:this.setCodeRef,onChange:function(t){return e.setState({smsCode:t})},autoComplete:"off",placeholder:l.default.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,label:l.default.Messages.TWO_FA_ENTER_SMS_TOKEN_LABEL,value:this.state.smsCode},"smsCode"),r(c.Button,{type:"submit",submitting:a,color:a?c.Button.Colors.TRANSPARENT:c.Button.Colors.BRAND},void 0,l.default.Messages.LOGIN),a?null:r(c.Button,{onClick:this.handleToggleSMSLogin,className:b.default.marginTop8,look:c.Button.Looks.LINK},void 0,l.default.Messages.MFA_SMS_RESEND),r(c.Button,{look:c.Button.Looks.LINK,className:b.default.marginTop4,onClick:this.handleReset},void 0,l.default.Messages.TWO_FA_LOGIN_FOOTER)))},t.prototype.render=function(){var e=this.props,t=e.authenticated,n=e.invite,i=e.loginStatus,o=e.handoffAvailable,a=this.state,s=a.checkingHandoff;if(a.redirecting)return null;if(this.hasError("captcha_key"))return r(_.default,{onChange:this.handleCaptchaChange,title:l.default.Messages.LOGIN_TITLE});if(o)return this.renderHandOffAvailable();if(t&&s)return this.renderHandOffContinue();switch(i){case A.LoginStates.LOGGING_IN_MFA_SMS:case A.LoginStates.MFA_SMS_STEP:return this.renderMFASMS();case A.LoginStates.LOGGING_IN_MFA:case A.LoginStates.MFA_STEP:return this.renderMFA();case A.LoginStates.ACCOUNT_SCHEDULED_FOR_DELETION:case A.LoginStates.ACCOUNT_DISABLED:return this.renderDisabledAccount();case A.LoginStates.LOGGING_IN:case A.LoginStates.NONE:default:return null!=n&&n.state===A.InviteStates.RESOLVING?this.renderResolving():this.renderDefault()}},t.prototype.handleCancelAccountDeletion=function(){var e=E.default.getCredentials(),t=e.email,n=e.password;I.default.login(t,n,!0)},t}(a.PureComponent),D=function(){var e=this;this.setEmailRef=function(t){return e.emailRef=t},this.setPasswordRef=function(t){return e.passwordRef=t},this.setCodeRef=function(t){return e.codeRef=t},this.renderError=function(t){var n=e.props.errors;if(e.hasError(t)){var i=n[t];return Array.isArray(i)?i[0]:i}return null},this.handleLogin=function(t){var n=e.state,i=n.email,o=n.password,r=n.captchaKey;null!=t&&t.preventDefault(),I.default.login(i,o,!1,r),O.ComponentDispatch.dispatch(A.ComponentActions.WAVE_EMPHASIZE)},this.handleTokenSubmit=function(t){var n=e.state.code,i=e.props.mfaTicket;null!=t&&t.preventDefault(),I.default.loginMFA(n.replace(/ /g,""),i),O.ComponentDispatch.dispatch(A.ComponentActions.WAVE_EMPHASIZE)},this.handleSMSTokenSubmit=function(t){var n=e.state.smsCode,i=e.props.mfaTicket;null!=t&&t.preventDefault(),I.default.loginSMS(n.replace(/ /g,""),i),O.ComponentDispatch.dispatch(A.ComponentActions.WAVE_EMPHASIZE)},this.handleToggleSMSLogin=function(t){var n=e.props.mfaTicket;null!=t&&t.preventDefault(),I.default.requestSMSToken(n),O.ComponentDispatch.dispatch(A.ComponentActions.WAVE_EMPHASIZE)},this.handleForgotPassword=function(){var t=e.state.email,n=e.props.isMobile;null!=e.emailRef&&e.emailRef.focus(),I.default.forgotPassword(t,function(){S.default.push(function(e){return a.createElement(m.default,o({header:l.default.Messages.EMAIL_VERIFICATION_INSTRUCTIONS_HEADER,confirmText:l.default.Messages.OKAY,red:!1,className:n?M.default.mobile:""},e),r(p.default,{size:p.default.Sizes.MEDIUM,color:p.default.Colors.PRIMARY},void 0,l.default.Messages.EMAIL_VERIFICATION_INSTRUCTIONS_BODY.format({email:t})))})}),O.ComponentDispatch.dispatch(A.ComponentActions.WAVE_EMPHASIZE)},this.handleReset=function(t){null!=t&&t.preventDefault(),I.default.loginReset(),e.setState({password:"",email:"",code:"",smsCode:"",captchaKey:null,checkingHandoff:!1})},this.handleCaptchaChange=function(t){e.setState({captchaKey:t},e.handleLogin)},this.handleGotoRegister=function(){var t=e.state.email,n=e.props,i=n.invite,o=n.location,r=n.transitionTo,a=n.redirectTo,s=null!=o?(0,u.parse)(o.search):{};""!==t&&(s.email=t);var l=void 0;null!=i?(s.mode="register",l=A.Routes.INVITE(i.code)):l=null!=a?A.Routes.REGISTER_AND_REDIRECT(a):A.Routes.REGISTER,I.default.loginReset(),r(l,{search:(0,u.stringify)(s)}),O.ComponentDispatch.dispatch(A.ComponentActions.WAVE_EMPHASIZE)}};t.default=s.default.connectStores([E.default,g.default,y.default],function(){return{authenticated:E.default.isAuthenticated(),handoffAvailable:g.default.isHandoffAvailable(),user:g.default.user,loginStatus:E.default.getLoginStatus(),mfaTicket:E.default.getMFATicket(),mfaSMS:E.default.getMFASMS(),maskedPhone:E.default.getMaskedPhone(),errors:E.default.getErrors(),defaultRoute:y.default.defaultRoute}})(L),e.exports=t.default},5144:function(e,t,n){"use strict";t.__esModule=!0,t.TransitionRoute=void 0;var i,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),a=n(5578),s=n(137),l=n(434),u=(i=l)&&i.__esModule?i:{default:i};function f(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}var c=t.TransitionRoute=function(){return null},d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.context.router,t=e.route,n=e.history,i=e.staticContext,s=this.props,l=s.children,c=s.location,d=s.childProps,p=f(s,["children","location","childProps"]),h=c||t.location,v=void 0,_=void 0,m=void 0;return r.Children.forEach(l,function(e){if(null==v&&r.isValidElement(e)){var s=e.props,l=s.path,u=s.exact,c=s.strict,p=s.sensitive,E=s.from,y=s.component,g=s.render,I=f(s,["path","exact","strict","sensitive","from","component","render"]),T=l||E;if(null==(v=(0,a.matchPath)(h.pathname,{path:T,exact:u,strict:c,sensitive:p},t.match)))return;m=o({key:l,location:h,match:v,history:n,staticContext:i},d,I),null!=y?_=r.createElement(y,m):null!=g&&(_=g(m))}}),r.createElement(u.default,p,_)},t}(r.Component);d.Route=c,d.contextTypes=o({},s.Switch.contextTypes),t.default=d},5581:function(e,t,n){"use strict";t.__esModule=!0;var i=a(n(423)),o=n(215),r=a(n(42));function a(e){return e&&e.__esModule?e:{default:e}}t.default={getIdleTime:function(e){r.default.getIdleMilliseconds(e)},dump:function(e){var t=void 0;performance.memory&&(t={jsHeapSizeLimit:performance.memory.jsHeapSizeLimit,totalJSHeapSize:performance.memory.totalJSHeapSize,usedJSHeapSize:performance.memory.usedJSHeapSize});var n={browser:{name:i.default.name,version:i.default.version},os:{name:i.default.os.family,version:i.default.os.version},memory:t};e(n)},getTimeSinceNavigationStart:function(){return Date.now()-o.navigationStart}},e.exports=t.default},5582:function(e,t,n){e.exports=n.p+"c8f0b54f79a9fd1ef60ad74c73a1ee1a.png"},5583:function(e,t,n){"use strict";t.__esModule=!0;var i,o=n(4876),r=n(5582),a=(i=r)&&i.__esModule?i:{default:i};var s=20,l=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.img=null,this.loaded=!1,this.isFilled=!1,this.alpha=0,this.mx=0,this.my=0,this.x=0,this.y=0,this.velX=0,this.velY=0,this.targetX=2*s,this.targetY=2*s,this.spring={friction:60,tension:100},this.handleMouseMove=function(e){var n=e.clientX,i=e.clientY;t.targetX=n/window.innerWidth*s+s,t.targetY=i/window.innerWidth*s+s}}return e.prototype.initialize=function(){var e=this;this.img=new Image,this.img.onload=function(){e.loaded=!0},this.img.src=a.default,this.bind()},e.prototype.bind=function(){window.addEventListener("mousemove",this.handleMouseMove,!1)},e.prototype.unbind=function(){window.removeEventListener("mousemove",this.handleMouseMove,!1)},e.prototype.terminate=function(){this.img=null,this.loaded=!1,this.isFilled=!1,this.alpha=0,this.unbind()},e.prototype.update=function(e){this.loaded&&(!this.isFilled&&this.alpha<1?this.alpha=Math.min(1,this.alpha+e):this.isFilled&&this.alpha>0&&(this.alpha=Math.max(0,this.alpha-3*e)),this.velX+=(0,o.applySpringForce)(this.targetX,this.x,this.velX,this.spring)*e,this.velY+=(0,o.applySpringForce)(this.targetY,this.y,this.velY,this.spring)*e,this.x+=this.velX*e,this.y+=this.velY*e)},e.prototype.render=function(e){var t=this.img;this.loaded&&null!=t&&(e.save(),e.globalCompositeOperation="source-atop",e.globalAlpha=this.alpha,e.drawImage(t,this.x+s,this.y+s),e.restore())},e.prototype.fill=function(){this.isFilled=!0},e}();t.default=l,e.exports=t.default},5584:function(e,t,n){"use strict";t.__esModule=!0;var i=30;function o(e,t){return Math.max(Math.min((e-t)/i,1),-1)}var r=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resistance=.98,this.px=0,this.py=0,this.x=0,this.y=0,this.forceX=0,this.forceY=0,this.handleMouseMove=function(e){var n=e.clientX,i=e.clientY;t.x=n,t.y=i}}return e.prototype.initialize=function(){window.addEventListener("mousemove",this.handleMouseMove)},e.prototype.terminate=function(){window.removeEventListener("mousemove",this.handleMouseMove)},e.prototype.update=function(){this.x!==this.px&&this.y!==this.py&&(this.forceX+=o(this.x,this.px),this.forceY+=o(this.y,this.py),this.px=this.x,this.py=this.y),0!==this.forceX&&(this.forceX=this.forceX*this.resistance),0!==this.forceY&&(this.forceY=this.forceY*this.resistance)},e.prototype.render=function(){},e}();t.default=r,e.exports=t.default},5585:function(e,t,n){"use strict";t.__esModule=!0;var i=n(4876),o=n(2364);var r=2,a=3,s=1,l=4,u=["#7d8187","#18191c","#8fa2df","#4f545c"],f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.size=(0,i.randomNumber)(r,a),this.depth=(0,i.randomNumber)(s,l),this.positionMultiplier=this.depth/l,this.color=u[l-this.depth],this.offscreenX=o.MAX_RADIUS+this.size,this.offscreenY=o.MAX_RADIUS+this.size,this.x=(0,i.randomNumber)(-this.size,this.offscreenX),this.y=(0,i.randomNumber)(-this.size,this.offscreenY)}return e.prototype.checkBounds=function(){this.x>this.offscreenX?this.x=-this.size:this.y>this.offscreenY?this.y=-this.size:this.x<-this.size?this.x=this.offscreenX:this.y<-this.size&&(this.y=this.offscreenY)},e.prototype.update=function(e,t){this.checkBounds(),this.y+=t*this.positionMultiplier,this.x+=e*this.positionMultiplier},e.prototype.render=function(e,t){e.beginPath(),e.globalAlpha=t*this.depth/4,e.arc(this.x,this.y,this.size,0,o.TWO_PI,!0),e.fillStyle=this.color,e.fill(),e.globalAlpha=1},e}();t.default=f,e.exports=t.default},5586:function(e,t,n){"use strict";t.__esModule=!0;var i=r(n(5585)),o=r(n(5584));function r(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.particles=[],this.wind=new o.default,this.alpha=0,this.isFilled=!1,this.loadInTimer=null}return e.prototype.initialize=function(){var e=this;this.particles=[],this.wind.initialize(),this.loadInTimer=setTimeout(function(){for(var t=0;t<75;t++)e.particles.push(new i.default)},250)},e.prototype.terminate=function(){this.particles=[],this.wind.terminate(),null!=this.loadInTimer&&clearTimeout(this.loadInTimer)},e.prototype.update=function(e){var t=this;0!==this.particles.length&&(!this.isFilled&&this.alpha<1?this.alpha=Math.min(1,this.alpha+e):this.isFilled&&this.alpha>0&&(this.alpha=Math.max(0,this.alpha-3*e)),this.wind.update(),this.particles.forEach(function(n){return n.update(10*t.wind.forceX*e,10*Math.min(t.wind.forceY,-.001)*e-.1)}))},e.prototype.render=function(e){var t=this;0!==this.particles.length&&(e.save(),e.globalCompositeOperation="source-atop",this.particles.forEach(function(n){return n.render(e,t.alpha)}),e.restore())},e.prototype.fill=function(){this.isFilled=!0},e}();t.default=a,e.exports=t.default},5587:function(e,t,n){"use strict";t.__esModule=!0;var i=n(4876),o=n(2364);var r=60,a=2.15*Math.cos(Math.PI),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=-40,this.y=-40,this.targetX=0,this.targetY=0,this.oscillate=!0,this.velX=0,this.velY=0,this.angle=0,this.speedUp=1.5,this.waveRange=r,this.spring={friction:15,tension:o.POINT_TENSION_DEFAULT},this.index=t,this.spring.tension=o.POINT_TENSION_DEFAULT*Math.max(.1,t/7)+o.POINT_TENSION_DEFAULT,this.count=a*t}return e.prototype.updateStatic=function(){this.targetX=this.targetX+30*Math.cos(this.angle)*Math.sin(this.count),this.targetY=this.targetY+30*Math.sin(this.angle)*Math.sin(this.count),this.x=this.targetX,this.y=this.targetY},e.prototype.update=function(e){this.speedUp>0?(this.speedUp=Math.max(0,this.speedUp-e),this.count+=e*(10*Math.min(this.speedUp,1)+.4)):this.count+=.4*e;var t=void 0,n=void 0;if(t=(0,i.applySpringForce)(this.targetX,this.x,this.velX,this.spring),n=(0,i.applySpringForce)(this.targetY,this.y,this.velY,this.spring),this.velX+=t*e,this.velY+=n*e,this.oscillate){var o=this.targetX+this.waveRange*Math.cos(this.angle)*Math.sin(this.count),r=this.targetY+this.waveRange*Math.sin(this.angle)*Math.sin(this.count);t=(0,i.applySpringForce)(o,this.x,this.velX,this.spring),n=(0,i.applySpringForce)(r,this.y,this.velY,this.spring),this.velX+=t*e,this.velY+=n*e}this.x+=this.velX*e,this.y+=this.velY*e},e.prototype.render=function(e){e.fillStyle="#fff",e.fillRect(this.x,this.y,4,4)},e}();t.default=s,e.exports=t.default},5588:function(e,t,n){"use strict";t.__esModule=!0;var i=u(n(2433)),o=u(n(5587)),r=n(4876),a=n(138),s=n(2364),l=u(n(1583));function u(e){return e&&e.__esModule?e:{default:e}}var f=15,c=f/2,d=(0,a.cssValueToNumber)(l.default.responsiveWidthMobile);function p(e,t,n,i){return t*(n/i)+e}function h(){return Math.min(Math.max(Math.min(.8*window.innerWidth,.8*window.innerHeight),s.MIN_RADIUS),s.MAX_RADIUS)}var v=30,_=function(){function e(t){var n,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.points=[],this.hasEntered=!1,this.isFilling=!1,this._resizeWave=function(){var e=h();a.points.forEach(function(t,n){var i=e*Math.cos(s.TWO_PI*p(0,.25,n,f))-40,o=e*Math.sin(s.TWO_PI*p(0,.25,n,f))-40;0!==n?o+=(0,r.randomNumber)(0,v)-v/2:n!==f&&(i+=(0,r.randomNumber)(0,v)-v/2),t.targetX=i,t.targetY=o,t.angle=Math.atan2(o,i)})},this.resizeWave=(0,i.default)(this._resizeWave,200),this.updateWaveState=t,this.hasEntered=!1;for(var l=0;l<=f;l++)this.points.push(new o.default((n=l,Math.floor(c-Math.floor(Math.abs(n-c))))))}return e.prototype.initialize=function(){this._resizeWave()},e.prototype.emphasize=function(){this.points.forEach(function(e){return e.speedUp=1})},e.prototype.terminate=function(){this.points=[]},e.prototype.update=function(e){0!==this.points.length&&(this.points.forEach(function(t){return t.update(Math.min(e,1/60))}),this.hasEntered||this.points[0].x>d&&(this.hasEntered=!0,this.updateWaveState(s.WaveStates.ENTERED)),this.isFilling&&this.points[0].x>this.points[0].targetX&&(this.isFilling=!1,this.updateWaveState(s.WaveStates.FILLED)))},e.prototype.render=function(e){if(0!==this.points.length){var t=this.points,n=t[0],i=t.slice(1);e.save(),e.beginPath(),e.moveTo(n.x,n.y),i.forEach(function(t,n){if(null==i[n+1])e.quadraticCurveTo(t.x,t.y,t.x,t.y);else{var o=(t.x+i[n+1].x)/2,r=(t.y+i[n+1].y)/2;e.quadraticCurveTo(t.x,t.y,o,r)}}),e.lineTo(0,0),e.closePath(),e.fillStyle="#000",e.globalCompositeOperation="destination-in",e.fill(),e.restore()}},e.prototype.fill=function(){var e=this,t=Math.sqrt(window.innerWidth*window.innerWidth+window.innerHeight*window.innerHeight)+100,n=h()-140,i=function(e,t,n,i){e.targetX=t*Math.cos(s.TWO_PI*p(0,.25,n,f))-40,e.targetY=t*Math.sin(s.TWO_PI*p(0,.25,n,f))-40,i&&(e.targetX+=(0,r.randomNumber)(0,v)-v/2,e.targetY+=(0,r.randomNumber)(0,v)-v/2,e.speedUp=3,e.spring.tension=s.POINT_TENSION_DEFAULT*Math.random()*.5+s.POINT_TENSION_DEFAULT)};this.points.forEach(function(e,t){return i(e,n,t,!0)}),setTimeout(function(){e.points.forEach(function(e,n){i(e,t,n,!1);var o=1-e.index/(f/2);e.spring.friction+=e.spring.friction+e.spring.friction*o,e.spring.tension=.7*s.POINT_TENSION_DEFAULT+80*Math.random(),e.waveRange=2*e.waveRange}),e.isFilling=!0,e.updateWaveState(s.WaveStates.FILLING)},250)},e}();t.default=_,e.exports=t.default},5589:function(e,t,n){"use strict";t.__esModule=!0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),o=n(193),r=p(n(5588)),a=p(n(5586)),s=p(n(5583)),l=n(138),u=n(5),f=n(2364),c=p(n(1633)),d=p(n(1583));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,l.cssValueToNumber)(d.default.responsiveWidthMobile),v=1/120,_=4e3,m=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return i.width=0,i.height=0,i.children=[],i.ratio=0,i._lastTick=0,i._reqAnimId=null,i.setCanvas=function(e){if(null!=e){i.canvas=e,i.canvasContext=i.canvas.getContext("2d");var t=window.devicePixelRatio||1,n=i.canvasContext.webkitBackingStorePixelRatio||i.canvasContext.mozBackingStorePixelRatio||i.canvasContext.msBackingStorePixelRatio||i.canvasContext.oBackingStorePixelRatio||i.canvasContext.backingStorePixelRatio||1;i.ratio=t/n}},i.resizeCanvas=function(){i.width=window.innerWidth,i.height=window.innerHeight;var e=i.canvas,t=i.canvasContext,n=i.width,o=i.height,r=i.ratio;null!=e&&null!=t&&(e.width=n*r,e.height=o*r,e.style.width=n+"px",e.style.height=o+"px",t.scale(r,r)),n<=h?i.pause():i.play(),i.wave.resizeWave(),i.renderAnimation()},i.handleVisibilityChange=function(){document.hidden?i.delayedPause():i.play()},i.play=function(){clearTimeout(i._pauseTimeout),null==i._reqAnimId&&i.run()},i.pause=function(){clearTimeout(i._pauseTimeout),window.cancelAnimationFrame(i._reqAnimId),i._reqAnimId=null,i.advanceTransitionalState()},i.delayedPause=function(){clearTimeout(i._pauseTimeout),i._pauseTimeout=setTimeout(i.pause,_)},i.updateWaveState=function(e){(0,i.props.updateWaveState)(e)},i.handleWaveEmphasize=function(){i.wave.emphasize()},i.run=function(){if(0===i._lastTick)return i._lastTick=Date.now(),void(i._reqAnimId=requestAnimationFrame(i.run));for(var e=Date.now(),t=Math.min((e-i._lastTick)/1e3,8*v);t>0;){var n=t<v?t:v;i.updateAnimation(n),t-=n}i.renderAnimation(),i._lastTick=e,i._reqAnimId=requestAnimationFrame(i.run)},i.wave=new r.default(i.updateWaveState),i.children=[new s.default,new a.default,i.wave],i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.initialize()},t.prototype.componentDidUpdate=function(e){var t=this.props.waveState;t===f.WaveStates.FILLING&&t!==e.waveState&&this.waveFill()},t.prototype.componentWillUnmount=function(){this.terminate()},t.prototype.initialize=function(){this.children.forEach(function(e){return e.initialize()}),this.bindEvents(),this.resizeCanvas(),document.hidden&&this.delayedPause()},t.prototype.terminate=function(){this.pause(),this.unbindEvents(),this.children.forEach(function(e){return e.terminate()})},t.prototype.bindEvents=function(){window.addEventListener("resize",this.resizeCanvas,!1),window.addEventListener("blur",this.delayedPause,!1),window.addEventListener("focus",this.play,!1),document.addEventListener("visibilitychange",this.handleVisibilityChange,!1),o.ComponentDispatch.subscribe(u.ComponentActions.WAVE_EMPHASIZE,this.handleWaveEmphasize)},t.prototype.unbindEvents=function(){window.removeEventListener("resize",this.resizeCanvas,!1),window.removeEventListener("blur",this.delayedPause,!1),window.removeEventListener("focus",this.play,!1),document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1),o.ComponentDispatch.unsubscribe(u.ComponentActions.WAVE_EMPHASIZE,this.handleWaveEmphasize)},t.prototype.advanceTransitionalState=function(){var e=this.props.waveState;e!==f.WaveStates.INITIAL&&e!==f.WaveStates.FILLING||this.updateWaveState(e+1)},t.prototype.waveFill=function(){null==this._reqAnimId?this.updateWaveState(f.WaveStates.FILLED):this.children.forEach(function(e){return e.fill()})},t.prototype.updateAnimation=function(e){this.children.forEach(function(t){return t.update(e)})},t.prototype.renderAnimation=function(){var e=this.canvasContext;null!=e&&(e.fillStyle=u.Colors.PRIMARY_630,e.fillRect(0,0,this.width,this.height),this.children.forEach(function(t){return t.render(e)}))},t.prototype.render=function(){return i.createElement("canvas",{className:c.default.canvas,ref:this.setCanvas})},t}(i.Component);t.default=m,e.exports=t.default},5590:function(e,t,n){"use strict";t.__esModule=!0;var i,o=(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),a=u(n(197)),s=n(5),l=u(n(1634));function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),s=0;s<o;s++)r[s]=arguments[s];return n=i=f(this,e.call.apply(e,[this].concat(r))),i.anim=new a.default.Value(0),i.animate=function(e){a.default.spring(i.anim,{toValue:e,friction:10,tension:100}).start()},f(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.show!==this.props.show&&this.animate(e.show?1:0)},t.prototype.getAnimatedStyle=function(){var e=this.anim;return{opacity:e,transform:[{translateY:e.interpolate({inputRange:[0,1],outputRange:["-100px","0px"]})},{translateZ:0}]}},t.prototype.render=function(){return o(a.default.a,{href:s.Routes.INDEX,target:"_blank",rel:"noopener",className:l.default.logo,style:this.getAnimatedStyle()})},t}(r.PureComponent);t.default=c,e.exports=t.default},5591:function(e,t,n){"use strict";t.__esModule=!0;var i,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),s=u(n(36)),l=u(n(1635));function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=i=f(this,e.call.apply(e,[this].concat(r))),i.unmounting=!1,i.state={loaded:!1},f(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillMount=function(){this.initialize()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this;e.src!==this.props.src&&this.setState({loaded:!1},function(){return t.initialize()})},t.prototype.initialize=function(){var e,t=this;(e=this.props.src,new Promise(function(t,n){null==e&&n(new Error("No image src passed"));var i=new Image;i.src=e,i.onload=function(){return t(i)},i.onerror=function(e){return n(e)}})).then(function(){t.unmounting||t.setState({loaded:!0})})},t.prototype.componentWillUnmount=function(){this.unmounting=!0},t.prototype.render=function(){var e,t=this.props,n=t.className,i=t.src,a=t.alt,u=t.width,f=t.height,c=t.onLoad,d=t.style,p=this.state.loaded;return r("div",{className:n,style:o({},d,{width:u,height:f})},void 0,r("img",{className:(0,s.default)(l.default.image,(e={},e[l.default.loaded]=p,e)),width:u,height:f,src:i,alt:a,onLoad:c}))},t}(a.PureComponent);c.defaultProps={width:0,height:0,alt:""},t.default=c,e.exports=t.default},5592:function(e,t,n){"use strict";t.__esModule=!0;var i,o=(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),a=d(n(36)),s=d(n(5591)),l=d(n(5590)),u=d(n(5589)),f=n(2364),c=d(n(1583));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=i=p(this,e.call.apply(e,[this].concat(r))),i.state={naturalWidth:0,naturalHeight:0,width:0,height:0},i.resizeImage=function(){var e=i.state,t=e.naturalWidth,n=e.naturalHeight;i.setState(i.calculateDimensions(t,n))},i.handleLoad=function(e){var t=e.currentTarget,n=t.naturalWidth,o=t.naturalHeight;i.setState(i.calculateDimensions(n,o)),window.removeEventListener("resize",i.resizeImage),window.addEventListener("resize",i.resizeImage)},p(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.resizeImage)},t.prototype.calculateDimensions=function(e,t){var n=window,i=n.innerWidth,o=n.innerHeight;if(0===e||0===t)return null;var r=t/e,a=i,s=Math.round(i*r);return s<o&&(s=o,r=e/t,a=Math.round(o*r)),{naturalWidth:e,naturalHeight:t,width:a,height:s}},t.prototype.renderSplashArt=function(){var e=this.props.splash,t=this.state,n=t.width,i=t.height;return null!=e?o(s.default,{className:c.default.rightSplit,src:e,width:n,height:i,onLoad:this.handleLoad}):null},t.prototype.renderContent=function(){var e,t=this.props,n=t.children,i=t.waveState,s=t.updateWaveState,d=t.showLogo;return o(r.Fragment,{},void 0,o(u.default,{waveState:i,updateWaveState:s}),o("div",{className:(0,a.default)(c.default.leftSplit,(e={},e[c.default.hasLogo]=d,e))},void 0,d?o(l.default,{show:i===f.WaveStates.ENTERED&&i!==f.WaveStates.FILLING}):null,n))},t.prototype.render=function(){var e=this.props.className;return o("div",{className:(0,a.default)(e,c.default.wrapper)},void 0,this.renderSplashArt(),this.renderContent())},t}(r.PureComponent);t.default=h,e.exports=t.default},5593:function(e,t,n){"use strict";t.__esModule=!0;var i,o=(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),a=h(n(36)),s=h(n(5144)),l=h(n(5592)),u=h(n(96)),f=h(n(42)),c=n(5),d=n(2364),p=h(n(1632));function h(e){return e&&e.__esModule?e:{default:e}}var v=[c.Routes.LOGIN,c.Routes.REGISTER,c.Routes.INVITE(""),c.Routes.DISABLE_EMAIL_NOTIFICATIONS,c.Routes.VERIFY,c.Routes.AUTHORIZE_IP,c.Routes.RESET,c.Routes.HANDOFF],_=[c.Routes.APP,c.Routes.ACTIVITY,c.Routes.GUILD(""),"/welcome/","/settings/",c.Routes.USERS("")];function m(e){return v.some(function(t){return e.startsWith(t)})}var E=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return i.updateWaveState=function(e){var t=i.state.waveState;i.setState({waveState:Math.max(t,e)})},i.transitionTo=function(e,t){var n=i.state.waveState;m(e)?u.default.transitionTo(e):i.setState({route:e,extra:t,waveState:Math.max(n,d.WaveStates.FILLING)})},i.replaceWith=function(e){var t=i.state.waveState;m(e)?u.default.replaceWith(e):i.setState({route:e,replaceWith:!0,waveState:Math.max(t,d.WaveStates.FILLING)})},i.state={waveState:d.WaveStates.INITIAL,extra:{},replaceWith:!1,route:null},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this.state,i=n.waveState,o=n.replaceWith,r=n.extra,a=n.route;if(i===d.WaveStates.FILLED&&i!==t.waveState&&null!=a){if(function(e){return _.some(function(t){return e.startsWith(t)})}(a))return o?u.default.replaceWith(a):u.default.transitionTo(a,r);window.location=a}},t.prototype.renderDefault=function(){var e,t=this,n=this.props,i=n.splash,u=n.children,c=this.state,h=c.waveState,v=void 0;return null==c.route&&(v=r.Children.map(u,function(e){return r.cloneElement(e,{transitionTo:t.transitionTo,replaceWith:t.replaceWith})})),o(l.default,{className:(0,a.default)(p.default.splashBackground,(e={},e[p.default.loggingIn]=h>=d.WaveStates.FILLING,e)),splash:i,waveState:h,showLogo:!f.default.isWindows(),updateWaveState:this.updateWaveState},void 0,o(s.default,{component:r.Fragment},void 0,v))},t.prototype.renderMobile=function(){var e=u.default.transitionTo,t=u.default.replaceWith;return o(s.default,{component:r.Fragment},void 0,r.Children.map(this.props.children,function(n){return r.cloneElement(n,{transitionTo:e,replaceWith:t})}))},t.prototype.render=function(){return this.props.isMobile?this.renderMobile():this.renderDefault()},t}(r.Component);t.default=E,e.exports=t.default},5594:function(e,t,n){"use strict";t.__esModule=!0;var i,o=(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),s=d(n(197)),l=d(n(2433)),u=n(138),f=d(n(1636)),c=d(n(1583));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=(0,u.cssValueToNumber)(c.default.responsiveWidthMobile),v={START:0,END:1,OPACITY_INPUT_START:.5,OPACITY_INPUT_END:.7,OPACITY_OUTPUT_START:0,OPACITY_OUTPUT_END:1,SCALE_INPUT_START:0,SCALE_INPUT_END:1,SCALE_OUTPUT_START:.8,SCALE_OUTPUT_END:1},_={friction:10,tension:130};t.default=function(e,t){return function(n){function i(){var e,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,a=Array(r),u=0;u<r;u++)a[u]=arguments[u];return e=o=p(this,n.call.apply(n,[this].concat(a))),o.anim=new s.default.Value(v.START),o.state={shouldAnimate:!t},o.handleResize=function(){var e=window.innerWidth>h;!o.state.shouldAnimate&&e&&o.anim.setValue(v.END),o.setState({shouldAnimate:e})},o.handleResizeDebounced=(0,l.default)(o.handleResize,60),p(o,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,n),i.prototype.UNSAFE_componentWillMount=function(){t||(window.addEventListener("resize",this.handleResizeDebounced),this.handleResize())},i.prototype.componentWillUnmount=function(){clearTimeout(this.timeout),window.removeEventListener("resize",this.handleResizeDebounced)},i.prototype.componentWillAppear=function(e){this.state.shouldAnimate?this.animateTo(v.END,e):e()},i.prototype.componentWillEnter=function(e){var t=this;this.state.shouldAnimate?(clearTimeout(this.timeout),this.timeout=setTimeout(function(){return t.animateTo(v.END,e)},40)):e()},i.prototype.componentWillLeave=function(e){this.state.shouldAnimate?this.animateTo(v.START,e):e()},i.prototype.animateTo=function(e,t){s.default.spring(this.anim,r({toValue:e},_)).start(t)},i.prototype.getAnimatedStyle=function(){return this.state.shouldAnimate?{opacity:this.anim,transform:[{scale:this.anim.interpolate({inputRange:[0,1],outputRange:[1.05,1]})},{translateY:this.anim.interpolate({inputRange:[0,1],outputRange:["-70px","0px"]})},{translateZ:0}]}:null},i.prototype.render=function(){return o(s.default.div,{className:f.default.wrapper,style:this.getAnimatedStyle()},void 0,a.createElement(e,this.props))},i}(a.Component)},e.exports=t.default},5595:function(e,t,n){e.exports=n.p+"4dfc23421736b1eaf2a19bcb16633bad.svg"},5596:function(e,t,n){"use strict";t.__esModule=!0;var i,o=(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),a=_(n(15)),s=_(n(59)),l=_(n(74)),u=n(443),f=n(2062),c=_(f),d=_(n(447)),p=_(n(194)),h=n(5),v=_(n(1527));function _(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}a.default.initialize();var E=o(c.default,{},void 0,o(f.AuthSpinner,{})),y=function(e){function t(){var n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=i=m(this,e.call.apply(e,[this].concat(r))),i.state={busy:!0,success:!1,user:null},m(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this,t=(0,u.parse)(this.props.location.search);s.default.post({url:h.Endpoints.DISABLE_EMAIL_NOTIFICATIONS,body:{token:t.token,pixel_uuid:t.hash}}).then(function(t){var n=t.body.user,i=new p.default(n);e.setState({success:!0,busy:!1,user:i})},function(){return e.setState({success:!1,busy:!1})})},t.prototype.renderBusy=function(){return E},t.prototype.renderSuccess=function(){var e=this.props,t=e.defaultRoute,n=e.transitionTo,i=this.state.user;return o(c.default,{},void 0,o(f.Avatar,{src:i?i.getAvatarURL():null,size:f.Avatar.Sizes.XXLARGE,className:v.default.marginBottom20}),o(f.Title,{className:v.default.marginBottom8},void 0,l.default.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_SUCCESS_HEADER),o(f.Subtitle,{},void 0,l.default.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_SUCCESS_BODY),o(f.Button,{className:v.default.marginTop40,onClick:function(){return n(t)}},void 0,l.default.Messages.CONTINUE_TO_WEBAPP))},t.prototype.renderError=function(){var e=this.props,t=e.defaultRoute,i=e.transitionTo;return o(c.default,{},void 0,o(f.Image,{src:n(5595),className:v.default.marginBottom20}),o(f.Title,{className:v.default.marginBottom8},void 0,l.default.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_FAILURE_HEADER),o(f.Subtitle,{},void 0,l.default.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_FAILURE_BODY),o(f.Button,{className:v.default.marginTop40,onClick:function(){return i(t)}},void 0,l.default.Messages.CONTINUE_TO_WEBAPP))},t.prototype.render=function(){var e=this.state,t=e.busy,n=e.success;return t?this.renderBusy():n?this.renderSuccess():this.renderError()},t}(r.PureComponent);t.default=a.default.connectStores([d.default],function(){return{defaultRoute:d.default.defaultRoute}})(y),e.exports=t.default},5597:function(e,t,n){"use strict";t.__esModule=!0;var i,o=(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),a=m(n(15)),s=m(n(36)),l=n(443),u=m(n(74)),f=n(2062),c=m(f),d=m(n(49)),p=m(n(439)),h=n(193),v=n(5),_=m(n(1527));function m(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}a.default.initialize();var y=function(e){function t(){var n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=i=E(this,e.call.apply(e,[this].concat(r))),i.state={password:"",code:"",error:null},i.handleSubmit=function(e){var t=i.props,n=t.location,o=t.replaceWith,r=i.state,a=r.password,s=r.error;if(null!=e&&e.preventDefault(),0===a.length)return i.setState({error:u.default.Messages.PASSWORD_REQUIRED}),void h.ComponentDispatch.dispatch(v.ComponentActions.WAVE_EMPHASIZE);null!=s&&i.setState({error:null});var f=(0,l.parse)(n.search);null!=f.token&&p.default.resetPassword(f.token,a,o)},i.handleTokenSubmit=function(e){var t=i.props,n=t.location,o=t.replaceWith,r=t.mfaTicket,a=i.state,s=a.code,f=a.password,c=a.error;if(null!=e&&e.preventDefault(),0===f.length)return i.setState({error:u.default.Messages.PASSWORD_REQUIRED}),void h.ComponentDispatch.dispatch(v.ComponentActions.WAVE_EMPHASIZE);null!=c&&i.setState({error:null});var d=(0,l.parse)(n.search);null!=d.token&&p.default.resetPasswordMFA(s,r,f,d.token,o)},i.renderError=function(e){var t=i.props.errors;if(i.hasError(e)){var n=t[e];return Array.isArray(n)?n[0]:n}return null},E(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.hasError=function(e){return null!=this.props.errors[e]||null!=this.state.error},t.prototype.renderPasswordReset=function(){var e=this,t=this.state,i=t.password,r=t.error,a=this.props.loginStatus,s=r||this.renderError("password");return o(c.default,{onSubmit:this.handleSubmit,tag:"form"},void 0,o("img",{alt:"",src:n(null==s?5139:5138),className:_.default.marginBottom20}),o(f.Title,{},void 0,u.default.Messages.RESET_PASSWORD_TITLE),o(f.Block,{className:_.default.marginTop20},void 0,o(f.Input,{label:u.default.Messages.FORM_LABEL_NEW_PASSWORD,className:_.default.marginBottom20,name:"password",value:i,onChange:function(t){return e.setState({password:t})},error:s,type:"password"}),o(f.Button,{type:"submit",submitting:a===v.LoginStates.LOGGING_IN_MFA},void 0,u.default.Messages.CHANGE_PASSWORD)))},t.prototype.renderMFA=function(){var e=this,t=this.state.error,i=this.props,r=i.loginStatus,a=i.isMobile,l=t||this.renderError("code");return o(c.default,{onSubmit:this.handleTokenSubmit,tag:"form"},void 0,o("img",{alt:"",src:n(null==l?5139:5138),className:(0,s.default)(_.default.marginBottom20,a?_.default.marginTop20:"")}),o(f.Title,{className:_.default.marginBottom8},void 0,u.default.Messages.TWO_FA_ENTER_TOKEN_LABEL),o(f.Subtitle,{},void 0,u.default.Messages.TWO_FA_ENTER_TOKEN_BODY),o(f.Block,{className:_.default.marginTop20},void 0,o(f.Input,{className:_.default.marginBottom8,error:l,onChange:function(t){return e.setState({code:t})},autoComplete:"off",placeholder:u.default.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,value:this.state.code}),o(f.Button,{type:"submit",submitting:r===v.LoginStates.LOGGING_IN_MFA},void 0,u.default.Messages.LOGIN)))},t.prototype.render=function(){return this.props.mfaTicket?this.renderMFA():this.renderPasswordReset()},t}(r.PureComponent);t.default=a.default.connectStores([d.default],function(){return{loginStatus:d.default.getLoginStatus(),mfaTicket:d.default.getMFATicket(),errors:d.default.getErrors()}})(y),e.exports=t.default},5598:function(e,t,n){e.exports=n.p+"17192d3fe939ecf404e8cdd64b340469.svg"},5599:function(e,t,n){e.exports=n.p+"1a06a76c7ea3e0facf0d6635e10c5898.svg"},5600:function(e,t,n){"use strict";t.__esModule=!0;var i,o=(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),a=N(n(15)),s=N(n(36)),l=N(n(74)),u=n(443),f=N(n(423)),c=n(2062),d=N(c),p=N(n(2210)),h=N(n(96)),v=N(n(83)),_=N(n(439)),m=N(n(49)),E=N(n(447)),y=N(n(2098)),g=n(5),I=N(n(1637)),T=N(n(1527)),S=N(n(445));function N(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}a.default.initialize();var A=function(e){function t(){var n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=i=O(this,e.call.apply(e,[this].concat(r))),i.handleVerify=function(e){var t=(0,u.parse)(i.props.location.search);_.default.verify(t.token,e)},i.handleLogin=function(){(0,i.props.transitionTo)(g.Routes.LOGIN)},i.handleOpenApp=function(){var e=i.props.verifyingUserId;v.default.track(g.AnalyticEvents.VERIFY_ACCOUNT_APP_OPENED,{verifying_user_id:e}),i.openAppWithFingerprint()},O(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.handleVerify()},t.prototype.openAppWithFingerprint=function(){var e=this.props.fingerprint,t=void 0;t="Android"===f.default.os.family||"iOS"===f.default.os.family?g.DownloadLinks.DYNAMIC("verify_email",{queryString:(0,u.stringify)({fingerprint:e})}):"discord://",y.default.launch(t,function(e){e||h.default.replaceWith(E.default.defaultRoute)})},t.prototype.renderVerifyCaptcha=function(){return o(d.default,{},void 0,o(c.Image,{src:n(5140),className:(0,s.default)(I.default.image,T.default.marginBottom20)}),o(c.Title,{className:T.default.marginBottom8},void 0,l.default.Messages.VERIFICATION_VERIFYING),o(c.Subtitle,{className:T.default.marginBottom40},void 0,l.default.Messages.VERIFICATION_BODY_ALT),o("div",{className:S.default.flexCenter},void 0,o(p.default,{onChange:this.handleVerify,theme:p.default.Themes.DARK})))},t.prototype.renderVerifyFailed=function(){return o(d.default,{},void 0,o(c.Image,{src:n(5599),className:(0,s.default)(I.default.image,T.default.marginBottom20)}),o(c.Title,{className:T.default.marginBottom8},void 0,l.default.Messages.VERFICATION_EXPIRED),o(c.Subtitle,{className:T.default.marginBottom40},void 0,l.default.Messages.AUTH_VERFICATION_EXPIRED_SUGGESTION),o(c.Button,{onClick:this.handleLogin},void 0,l.default.Messages.LOGIN))},t.prototype.renderVerifySucceeded=function(){return o(d.default,{},void 0,o(c.Image,{src:n(5140),className:(0,s.default)(I.default.image,T.default.marginBottom20)}),o(c.Title,{className:T.default.marginBottom40},void 0,l.default.Messages.VERIFICATION_VERIFIED),o(c.Button,{onClick:this.handleOpenApp},void 0,l.default.Messages.VERIFICATION_OPEN_DISCORD))},t.prototype.renderVerifying=function(){return o(d.default,{},void 0,o(c.Image,{src:n(5598),className:(0,s.default)(I.default.image,T.default.marginBottom20)}),o(c.Title,{className:T.default.marginBottom8},void 0,l.default.Messages.VERIFICATION_VERIFYING),o(c.Subtitle,{className:T.default.marginBottom40},void 0,l.default.Messages.ACTION_MAY_TAKE_A_MOMENT),o(c.Button,{submitting:!0,color:c.Button.Colors.PRIMARY}))},t.prototype.render=function(){var e=this.props,t=e.verifyErrors,n=e.verifyFailed,i=e.verifySucceeded;return null!=t&&t.captcha_key?this.renderVerifyCaptcha():n?this.renderVerifyFailed():i?this.renderVerifySucceeded():this.renderVerifying()},t}(r.PureComponent);t.default=a.default.connectStores([m.default],function(){return{verifyFailed:m.default.didVerifyFail(),verifyErrors:m.default.getVerifyErrors(),verifySucceeded:m.default.didVerifySucceed(),fingerprint:m.default.getFingerprint(),verifyingUserId:m.default.getVerifyingUserId()}})(A),e.exports=t.default},5601:function(e,t,n){e.exports=n.p+"004dd8db75dd498bf03f6b0e7fcb51fd.svg"},5602:function(e,t,n){e.exports=n.p+"5ed6422f4a60342227db5d2678ecf911.svg"},5603:function(e,t,n){"use strict";t.__esModule=!0;var i,o=(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),a=_(n(15)),s=_(n(74)),l=n(443),u=_(n(423)),f=n(2062),c=_(f),d=_(n(49)),p=_(n(439)),h=n(5),v=_(n(1527));function _(e){return e&&e.__esModule?e:{default:e}}a.default.initialize();var m=o(f.AuthSpinner,{hideQuote:!0}),E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=(0,l.parse)(this.props.location.search);p.default.authorizeIPAddress(e.token)},t.prototype.renderLoginButton=function(){if("Android"===u.default.os.family||"iOS"===u.default.os.family)return null;var e=this.props.transitionTo;return o(f.Button,{onClick:function(){return e(h.Routes.LOGIN)}},void 0,s.default.Messages.LOGIN)},t.prototype.renderFailed=function(){return o(c.default,{},void 0,o("img",{alt:"",src:n(5602),className:v.default.marginBottom20}),o(f.Title,{className:v.default.marginBottom8},void 0,s.default.Messages.AUTHORIZATION_EXPIRED),o(f.Subtitle,{className:v.default.marginBottom40},void 0,s.default.Messages.AUTH_EXPIRED_SUGGESTION),this.renderLoginButton())},t.prototype.renderSucceeded=function(){return o(c.default,{},void 0,o("img",{alt:"",src:n(5601),className:v.default.marginBottom20}),o(f.Title,{className:v.default.marginBottom8},void 0,s.default.Messages.IP_AUTHORIZATION_SUCCEEDED),o(f.Subtitle,{className:v.default.marginBottom40},void 0,s.default.Messages.AUTH_IP_AUTH_SUCCEEDED_SUGGESTION),this.renderLoginButton())},t.prototype.renderDefault=function(){return o(c.default,{},void 0,m,o(f.Title,{},void 0,s.default.Messages.AUTHORIZING))},t.prototype.render=function(){var e=this.props,t=e.verifyFailed,n=e.verifySucceeded;return t?this.renderFailed():n?this.renderSucceeded():this.renderDefault()},t}(r.PureComponent);t.default=a.default.connectStores([d.default],function(){return{verifyFailed:d.default.didVerifyFail(),verifySucceeded:d.default.didVerifySucceed()}})(E),e.exports=t.default},5604:function(e,t,n){e.exports=n.p+"acb452cda03a99894210f832308c055d.svg"},5605:function(e,t,n){e.exports=n.p+"96191331272ece160a85126d54e49f3d.svg"},5606:function(e,t,n){e.exports=n.p+"07c4931451dfa8c32fc8551b48a89536.svg"},5607:function(e,t,n){"use strict";t.__esModule=!0;var i,o=(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),s=O(n(15)),l=O(n(36)),u=n(2062),f=O(u),c=O(n(2011)),d=O(n(418)),p=O(n(1908)),h=O(n(2365)),v=O(n(83)),_=O(n(1958)),m=O(n(49)),E=O(n(2334)),y=O(n(74)),g=O(n(1638)),I=O(n(1588)),T=O(n(1527)),S=O(n(445)),N=n(5);function O(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}s.default.initialize();var b=function(e){function t(){var n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=i=A(this,e.call.apply(e,[this].concat(r))),i.handleOpenApp=function(e){e.preventDefault(),i.track(N.AnalyticEvents.INVITE_APP_OPENED,!0),i.openAppWithFingerprint()},A(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){v.default.track(N.AnalyticEvents.INVITE_VIEWED,{},!0)},t.prototype.track=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.props,o=i.invite,a={invite_code:i.code};t&&(a.guild_id=o.guild?o.guild.id:null,a.channel_id=o.channel?o.channel.id:null,a.inviter_id=o.inviter?o.inviter.id:null),v.default.track(e,r({},a,n))},t.prototype.isValidInvite=function(e){return e.state!==N.InviteStates.EXPIRED},t.prototype.openAppWithFingerprint=function(){var e=this.props,t=e.code,n=e.invite,i=e.fingerprint;_.default.openApp(this.isValidInvite(n)?t:void 0,void 0,i)},t.prototype.renderValid=function(){var e=this.props.invite;return o(f.default,{},void 0,o(h.default,{invite:e}),o(u.Button,{onClick:this.handleOpenApp,className:T.default.marginTop40},void 0,y.default.Messages.INSTANT_INVITE_ACCEPT))},t.prototype.renderInvalid=function(){return o(f.default,{},void 0,o(u.Image,{src:n(5606)}),o(u.Title,{className:(0,l.default)(T.default.marginTop20,T.default.marginBottom8,S.default.flexCenter)},void 0,y.default.Messages.DISCORD_DESC_SHORT),o(u.Subtitle,{className:T.default.marginBottom40},void 0,y.default.Messages.DISCORD_DESC_LONG),o(c.default,{className:g.default.card,type:c.default.Types.CUSTOM},void 0,o("img",{alt:"",className:g.default.cardAccentLeft,src:n(5605)}),o("img",{alt:"",className:g.default.cardAccentRight,src:n(5604)}),o(d.default,{className:g.default.cardContents,direction:d.default.Direction.VERTICAL,align:d.default.Align.STRETCH,grow:0},void 0,o(p.default,{className:g.default.buttonTitle,color:I.default.primary300,size:p.default.Sizes.MEDIUM,weight:p.default.Weights.MEDIUM},void 0,y.default.Messages.INVITE_INVALID_ERROR),o(u.Button,{className:g.default.button,onClick:this.handleOpenApp},void 0,y.default.Messages.INVITE_INVALID_CTA))))},t.prototype.render=function(){var e=this.props.invite;return this.isValidInvite(e)?this.renderValid():this.renderInvalid()},t}(a.PureComponent);t.default=s.default.connectStores([E.default,m.default],function(e){var t=e.match.params.invitecode;return{code:t,invite:E.default.getInvite(t)||{},fingerprint:m.default.getFingerprint()}})(b),e.exports=t.default},5608:function(e,t,n){e.exports=n.p+"e0c782560fd96acd7f01fda1f8c6ff24.svg"},5609:function(e,t,n){"use strict";t.__esModule=!0;var i=n(214);Object.defineProperty(t,"extractId",{enumerable:!0,get:function(){return i.extractId}})},5610:function(e,t,n){"use strict";t.__esModule=!0;var i,o=(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=A(n(3)),s=O(n(15)),l=O(n(37)),u=O(n(36)),f=O(n(74)),c=O(n(2365)),d=O(n(5141)),p=O(n(5143)),h=n(2062),v=O(h),_=O(n(49)),m=O(n(2334)),E=O(n(447)),y=O(n(1958)),g=O(n(83)),I=A(n(5609)),T=O(n(433)),S=n(5),N=O(n(1527));function O(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}s.default.initialize();var M="Accept Invite Page",C="register",R="login",P=o(h.AuthSpinner,{}),w=function(e){function t(){var n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=i=b(this,e.call.apply(e,[this].concat(r))),i.getAcceptInviteContext=function(e){return y.default.getInviteContext(e,i.props.invite)},i.handleContinue=function(){var e=i.props,t=e.invite,n=e.transitionTo;if(null!=t.channel){var o=null!=t.guild?t.guild.id:S.ME;y.default.transitionToInviteChannel(o,t.channel.id,t.channel.type,n)}},i.handleAccept=function(){var e=i.props.invite,t=i.getCode();y.default.acceptInvite(t,i.getAcceptInviteContext(M),function(){null!=e.channel&&y.default.openApp(t,e.channel.id)})},b(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){g.default.track(S.AnalyticEvents.INVITE_VIEWED,{},!0)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.invite,i=t.authenticated,o=t.transitionTo,r=this.getCode();if(r!==this.getCode(e))y.default.resolveInvite(r,M);else if(n.state===S.InviteStates.APP_NOT_OPENED)this.handleContinue();else if(this.getMode()===R&&i!==e.authenticated&&i){var a=_.default.getFingerprint();if(null!=a){var s=I.extractId(a);this.track(S.AnalyticEvents.INVITE_LOGIN_SUCCESSFUL,!0,{prev_user_id:s})}y.default.acceptInvite(r,this.getAcceptInviteContext(M),this.handleContinue)}if(n.nativeAppState!==e.invite.nativeAppState&&n.nativeAppState===S.InviteNativeAppStates.OPEN&&this.track(S.AnalyticEvents.INVITE_APP_INVOKED,!1),this.getMode()===C&&i&&!e.authenticated){var u=n.guild,f=n.channel;if(null!=f){var c=null!=u?u.id:S.ME;l.default.set("homepageNUFComplete",!0),o(S.Routes.WELCOME(c,f.id,f.type))}}},t.prototype.getCode=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).match.params.invitecode},t.prototype.getMode=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).login?R:C},t.prototype.track=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.props.invite,o={invite_code:this.getCode()};t&&(o.guild_id=i.guild?i.guild.id:null,o.channel_id=i.channel?i.channel.id:null,o.inviter_id=i.inviter?i.inviter.id:null),g.default.track(e,r({},o,n))},t.prototype.renderSpinner=function(e){return o(v.default,{},void 0,o(h.Title,{},void 0,e),P)},t.prototype.renderExpiredInvite=function(){var e=this.props,t=e.defaultRoute,i=e.transitionTo;return o(v.default,{},void 0,o(h.Image,{src:n(5608),className:N.default.marginBottom8}),o(h.Title,{className:(0,u.default)(N.default.marginTop8,N.default.marginBottom8)},void 0,f.default.Messages.AUTH_INVALID_INVITE_TITLE),o(h.Subtitle,{},void 0,f.default.Messages.AUTH_INVALID_INVITE_BODY),o(h.Button,{className:(0,u.default)(N.default.marginTop40,N.default.marginBottom8),onClick:function(){return i(t)}},void 0,f.default.Messages.CONTINUE_TO_WEBAPP),o(h.Button,{onClick:function(){return window.open(T.default.getArticleURL(S.HelpdeskArticles.INVALID_INVITES),"_blank")},look:h.Button.Looks.LINK},void 0,f.default.Messages.AUTH_INVALID_INVITE_TIP))},t.prototype.renderAppOpened=function(){return o(v.default,{},void 0,o(h.Title,{className:N.default.marginBottom8},void 0,f.default.Messages.APP_OPENED_TITLE),o(h.Subtitle,{},void 0,f.default.Messages.APP_OPENED_BODY),o(h.Button,{className:N.default.marginTop40,onClick:this.handleContinue},void 0,f.default.Messages.CONTINUE_TO_WEBAPP))},t.prototype.renderAuthenticated=function(){var e=this.props.invite;return o(v.default,{},void 0,o(c.default,{invite:e}),o(h.Button,{className:N.default.marginTop40,onClick:this.handleAccept},void 0,f.default.Messages.INSTANT_INVITE_ACCEPT))},t.prototype.renderContinue=function(){var e=this.props,t=e.defaultRoute,n=e.transitionTo;return o(v.default,{},void 0,o(h.Title,{},void 0,f.default.Messages.APP_NOT_OPENED),o(h.Button,{className:N.default.marginTop40,onClick:function(){return n(t)}},void 0,f.default.Messages.CONTINUE_TO_WEBAPP))},t.prototype.render=function(){var e=this,t=this.props,n=t.invite,i=t.authenticated,r=t.transitionTo,a=t.location;if(n.nativeAppState===S.InviteNativeAppStates.OPEN)return this.renderAppOpened();switch(n.state){case S.InviteStates.APP_OPENED:return this.renderAppOpened();case S.InviteStates.APP_NOT_OPENED:return this.renderContinue();case S.InviteStates.APP_OPENING:return this.renderSpinner(f.default.Messages.APP_OPENING);case S.InviteStates.RESOLVING:case S.InviteStates.RESOLVED:return i?this.renderAuthenticated():this.getMode()===R?o(p.default,{invite:n,transitionTo:r,location:a}):o(d.default,{invite:n,onLoginStart:function(){return e.track(S.AnalyticEvents.INVITE_LOGIN,!0)},location:a,transitionTo:r});case S.InviteStates.ACCEPTING:return this.renderSpinner(f.default.Messages.INSTANT_INVITE_ACCEPTING);case S.InviteStates.EXPIRED:return this.renderExpiredInvite();case S.InviteStates.ACCEPTED:default:return null}},t}(a.PureComponent);t.default=s.default.connectStores([m.default,E.default,_.default],function(e){return{invite:m.default.getInvite(e.match.params.invitecode)||{},authenticated:_.default.isAuthenticated(),defaultRoute:E.default.defaultRoute}})(w),e.exports=t.default}}]);
//# sourceMappingURL=306ecfa2af7e4756736f.js.map